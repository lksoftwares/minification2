/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "checkduplicationmodule":
/*!*****************************************!*\
  !*** external "checkduplicationmodule" ***!
  \*****************************************/
/***/ ((module) => {

module.exports = require("checkduplicationmodule");

/***/ }),

/***/ "cookie-parser":
/*!********************************!*\
  !*** external "cookie-parser" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("cookie-parser");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "crypto-js":
/*!****************************!*\
  !*** external "crypto-js" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("crypto-js");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("express");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "kill-port":
/*!****************************!*\
  !*** external "kill-port" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("kill-port");

/***/ }),

/***/ "mssql":
/*!************************!*\
  !*** external "mssql" ***!
  \************************/
/***/ ((module) => {

module.exports = require("mssql");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "console":
/*!**************************!*\
  !*** external "console" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("console");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "./src/Controllers/Employee.controllers.js":
/*!*************************************************!*\
  !*** ./src/Controllers/Employee.controllers.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddEmployee: () => (/* binding */ AddEmployee),\n/* harmony export */   ApprovedLeave: () => (/* binding */ ApprovedLeave),\n/* harmony export */   Delete_Emp: () => (/* binding */ Delete_Emp),\n/* harmony export */   EditEmployee: () => (/* binding */ EditEmployee),\n/* harmony export */   EditProfile_Emp: () => (/* binding */ EditProfile_Emp),\n/* harmony export */   EmpAllLeaves: () => (/* binding */ EmpAllLeaves),\n/* harmony export */   EmpTotalLeave: () => (/* binding */ EmpTotalLeave),\n/* harmony export */   Emp_Leave: () => (/* binding */ Emp_Leave),\n/* harmony export */   Emp_LoggedIn: () => (/* binding */ Emp_LoggedIn),\n/* harmony export */   List_Emp_Details: () => (/* binding */ List_Emp_Details),\n/* harmony export */   Logout: () => (/* binding */ Logout),\n/* harmony export */   Profile_Emp: () => (/* binding */ Profile_Emp),\n/* harmony export */   RejectedLeave: () => (/* binding */ RejectedLeave),\n/* harmony export */   profileImage: () => (/* binding */ profileImage),\n/* harmony export */   totalEmp: () => (/* binding */ totalEmp),\n/* harmony export */   totalsalary: () => (/* binding */ totalsalary)\n/* harmony export */ });\n/* harmony import */ var console__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! console */ \"console\");\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\n/* harmony import */ var _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ApiResult.js */ \"./src/utils/ApiResult.js\");\n/* harmony import */ var _utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/checkduplicate.js */ \"./src/utils/checkduplicate.js\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! crypto-js */ \"crypto-js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\nvar List_Emp_Details = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$query, Emp_Code, Name, Department, Designation, CreatedAt, fromJoinDate, endJoinDate, Emp_id, query, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _req$query = req.query, Emp_Code = _req$query.Emp_Code, Name = _req$query.Name, Department = _req$query.Department, Designation = _req$query.Designation, CreatedAt = _req$query.CreatedAt, fromJoinDate = _req$query.fromJoinDate, endJoinDate = _req$query.endJoinDate, Emp_id = _req$query.Emp_id;\n          console.log(req.query);\n          query = \"\\n      DECLARE @DepartmentArray TABLE (Department NVARCHAR(255));\\n      DECLARE @DesignationArray TABLE (Designation NVARCHAR(255));\";\n          if (Array.isArray(Department) && Department.length > 0) {\n            query += \"INSERT INTO @DepartmentArray VALUES \".concat(Department.map(function (dep) {\n              return \"('\".concat(dep, \"')\");\n            }).join(\", \"), \";\");\n          }\n          if (Array.isArray(Designation) && Designation.length > 0) {\n            query += \"INSERT INTO @DesignationArray VALUES \".concat(Designation.map(function (desig) {\n              return \"('\".concat(desig, \"')\");\n            }).join(\", \"), \";\");\n          }\n          query += \"\\n      SELECT e.*, d.Department, dm.Designation\\n      FROM Emp_Details e\\n      LEFT JOIN Department_mst d ON e.dep_id = d.dep_id\\n      LEFT JOIN Designation_mst dm ON e.Designation_id = dm.Designation_id\\n      WHERE 1=1\";\n          if (Emp_Code) {\n            query += \" AND e.Emp_Code = @Emp_Code\";\n          } else if (Name) {\n            query += \" AND e.Name = @Name\";\n          }\n          if (Array.isArray(Department) && Department.length > 0) {\n            query += \" AND d.Department IN (SELECT Department FROM @DepartmentArray)\";\n          }\n          if (Array.isArray(Designation) && Designation.length > 0) {\n            query += \" AND dm.Designation IN (SELECT Designation FROM @DesignationArray)\";\n          }\n          if (CreatedAt) {\n            query += \" AND e.JoiningDate = @CreatedAt\";\n          } else if (fromJoinDate && endJoinDate) {\n            query += \" AND e.JoiningDate BETWEEN @fromJoinDate AND @endJoinDate\";\n          }\n          _context.next = 13;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_Code: Emp_Code,\n            Name: Name,\n            Emp_id: Emp_id,\n            CreatedAt: CreatedAt,\n            fromJoinDate: fromJoinDate,\n            endJoinDate: endJoinDate\n          });\n        case 13:\n          result = _context.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 21:\n          _context.prev = 21;\n          _context.t0 = _context[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context.t0);\n        case 24:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 21]]);\n  }));\n  return function List_Emp_Details(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar Profile_Emp = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var Emp_id, query, result, user, password;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          Emp_id = req.user.Emp_id;\n          query = \"SELECT e.*, d.Department , dm.Designation\\n    FROM Emp_Details e\\n    LEFT JOIN Department_mst d ON e.dep_id = d.dep_id\\n    LEFT JOIN Designation_mst dm ON e.Designation_id = dm.Designation_id\\n    where Emp_id=@Emp_id;\\n    \\n    \";\n          _context2.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id\n          });\n        case 5:\n          result = _context2.sent;\n          if (!(result.recordset.length > 0)) {\n            _context2.next = 15;\n            break;\n          }\n          user = result.recordset[0];\n          password = crypto_js__WEBPACK_IMPORTED_MODULE_5__.AES.decrypt(user.password, 'SecretKey').toString(crypto_js__WEBPACK_IMPORTED_MODULE_5__.enc.Utf8);\n          user.password = password;\n          // console.log('Query:', query);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 15:\n          _context2.next = 20;\n          break;\n        case 17:\n          _context2.prev = 17;\n          _context2.t0 = _context2[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context2.t0);\n        case 20:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 17]]);\n  }));\n  return function Profile_Emp(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar profileImage = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var Emp_id, image, imageUrl, existingImagePathQuery, existingImagePathResult, existingImagePath, updateQuery, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          Emp_id = req.user.Emp_id;\n          console.log('Emp_id:', Emp_id);\n\n          // console.log('File uploaded:', req.file);\n          image = req.body.image;\n          imageUrl = req.file ? req.file.filename : null; // console.log('Image URL:', imageUrl);\n          existingImagePathQuery = 'SELECT image FROM Emp_Details WHERE Emp_id = @Emp_id';\n          _context3.next = 8;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(existingImagePathQuery, {\n            Emp_id: Emp_id\n          });\n        case 8:\n          existingImagePathResult = _context3.sent;\n          if (existingImagePathResult.recordset.length > 0) {\n            existingImagePath = existingImagePathResult.recordset[0].image;\n            console.log('Existing Image Path:', existingImagePath);\n            if (fs__WEBPACK_IMPORTED_MODULE_6__.existsSync(existingImagePath)) {\n              fs__WEBPACK_IMPORTED_MODULE_6__.unlink(existingImagePath, function (err) {\n                if (err) {\n                  console.error('Error deleting previous image:', err);\n                } else {\n                  console.log('Previous image deleted successfully');\n                }\n              });\n            }\n          }\n          updateQuery = \"\\n      UPDATE Emp_Details\\n      SET\\n        image = @image\\n      WHERE Emp_id = @Emp_id\\n    \";\n          _context3.next = 13;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(updateQuery, {\n            Emp_id: Emp_id,\n            image: imageUrl\n          });\n        case 13:\n          result = _context3.sent;\n          console.log('Updated Image:', imageUrl);\n          if (!(result.rowsAffected > 0)) {\n            _context3.next = 21;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Updated Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 21:\n          _context3.next = 26;\n          break;\n        case 23:\n          _context3.prev = 23;\n          _context3.t0 = _context3[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context3.t0);\n        case 26:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 23]]);\n  }));\n  return function profileImage(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar EditProfile_Emp = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var Emp_id, _req$body, Email, Contact_No, password, hashpassword, updateQuery, result;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          Emp_id = req.user.Emp_id;\n          _req$body = req.body, Email = _req$body.Email, Contact_No = _req$body.Contact_No, password = _req$body.password; // console.log(req.body)\n          // console.log(Emp_id)\n          hashpassword = crypto_js__WEBPACK_IMPORTED_MODULE_5__.AES.encrypt(password, 'SecretKey').toString();\n          updateQuery = \"\\n      UPDATE Emp_Details\\n      SET\\n        Email = @Email,\\n        password = @hashpassword,\\n        Contact_No = @Contact_No\\n      WHERE Emp_id = @Emp_id\\n    \";\n          _context4.next = 7;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(updateQuery, {\n            Emp_id: Emp_id,\n            Email: Email,\n            Contact_No: Contact_No,\n            hashpassword: hashpassword\n          });\n        case 7:\n          result = _context4.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context4.next = 14;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Updated Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 14:\n          _context4.next = 19;\n          break;\n        case 16:\n          _context4.prev = 16;\n          _context4.t0 = _context4[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context4.t0);\n        case 19:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 16]]);\n  }));\n  return function EditProfile_Emp(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar AddEmployee = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var _req$body2, Name, Emp_Code, dep_id, Designation_id, Address1, Address2, Contact_No, Alternate_No, DOB, Email, Gender, Bank_Details, Qualification, password, JoiningDate, CreatedAt, imageUrl, isDuplicate, hashpassword, query, result;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _req$body2 = req.body, Name = _req$body2.Name, Emp_Code = _req$body2.Emp_Code, dep_id = _req$body2.dep_id, Designation_id = _req$body2.Designation_id, Address1 = _req$body2.Address1, Address2 = _req$body2.Address2, Contact_No = _req$body2.Contact_No, Alternate_No = _req$body2.Alternate_No, DOB = _req$body2.DOB, Email = _req$body2.Email, Gender = _req$body2.Gender, Bank_Details = _req$body2.Bank_Details, Qualification = _req$body2.Qualification, password = _req$body2.password, JoiningDate = _req$body2.JoiningDate;\n          console.log(\"the data is here \", req.body);\n          if (!(!Name || !Emp_Code || !Email)) {\n            _context5.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Name,Emp_Code,Email can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          return _context5.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 9:\n          CreatedAt = new Date().toISOString().split('T')[0];\n          imageUrl = req.file ? req.file.filename : '';\n          _context5.next = 13;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_4__.checkDuplicate)('Emp_Details', ['Emp_Code', 'Email'], [Emp_Code, Email]);\n        case 13:\n          isDuplicate = _context5.sent;\n          if (!isDuplicate) {\n            _context5.next = 20;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Already Exists with Same Email';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context5.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          hashpassword = crypto_js__WEBPACK_IMPORTED_MODULE_5__.AES.encrypt(password, 'SecretKey').toString();\n          query = \"\\n      INSERT INTO Emp_Details\\n      (Name, Emp_Code, dep_id, Designation_id, Address1, Address2, Contact_No, Alternate_No, DOB, Email, Gender, image, Bank_Details, Qualification,password,RoleID,JoiningDate)\\n      VALUES\\n      (@Name, @Emp_Code, @dep_id, @Designation_id, @Address1, @Address2, @Contact_No, @Alternate_No, @DOB, @Email, @Gender, @image, @Bank_Details, @Qualification,@hashpassword,'4',@CreatedAt)\\n    \";\n          _context5.next = 24;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Name: Name,\n            Emp_Code: Emp_Code,\n            dep_id: dep_id,\n            Designation_id: Designation_id,\n            Address1: Address1,\n            Address2: Address2,\n            Contact_No: Contact_No,\n            Alternate_No: Alternate_No,\n            DOB: DOB,\n            Email: Email,\n            Gender: Gender,\n            image: imageUrl,\n            Bank_Details: Bank_Details,\n            Qualification: Qualification,\n            hashpassword: hashpassword,\n            CreatedAt: CreatedAt\n          });\n        case 24:\n          result = _context5.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context5.next = 31;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Added Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context5.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 31:\n          _context5.next = 36;\n          break;\n        case 33:\n          _context5.prev = 33;\n          _context5.t0 = _context5[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context5.t0);\n        case 36:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 33]]);\n  }));\n  return function AddEmployee(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar EditEmployee = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var Emp_id, _req$body3, Name, Emp_Code, dep_id, Designation_id, Address1, Address2, Contact_No, Alternate_No, DOB, Email, Gender, Bank_Details, Qualification, password, isDuplicate, imageUrl, existingImagePathQuery, existingImagePathResult, existingImagePath, hashpassword, query, result;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          Emp_id = req.params.Emp_id;\n          _req$body3 = req.body, Name = _req$body3.Name, Emp_Code = _req$body3.Emp_Code, dep_id = _req$body3.dep_id, Designation_id = _req$body3.Designation_id, Address1 = _req$body3.Address1, Address2 = _req$body3.Address2, Contact_No = _req$body3.Contact_No, Alternate_No = _req$body3.Alternate_No, DOB = _req$body3.DOB, Email = _req$body3.Email, Gender = _req$body3.Gender, Bank_Details = _req$body3.Bank_Details, Qualification = _req$body3.Qualification, password = _req$body3.password;\n          console.log(req.body);\n          if (!(!Name || !Emp_Code || !Email)) {\n            _context6.next = 10;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Name,Emp_Code,Email can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 10:\n          _context6.next = 12;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_4__.checkDuplicate)('Emp_Details', ['Emp_Code', 'Email', 'Emp_id'], [Emp_Code, Email, Emp_id], 'Emp_id');\n        case 12:\n          isDuplicate = _context6.sent;\n          if (!isDuplicate) {\n            _context6.next = 19;\n            break;\n          }\n          // console.log('isDuplicate:', isDuplicate)\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Already Exists with Same Email or Emp_Code';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          imageUrl = req.file ? req.file.filename : '';\n          existingImagePathQuery = 'SELECT image FROM Emp_Details WHERE Emp_id = @Emp_id';\n          _context6.next = 23;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(existingImagePathQuery, {\n            Emp_id: Emp_id\n          });\n        case 23:\n          existingImagePathResult = _context6.sent;\n          if (existingImagePathResult.recordset.length > 0) {\n            existingImagePath = existingImagePathResult.recordset[0].image;\n            if (fs__WEBPACK_IMPORTED_MODULE_6__.existsSync(existingImagePath)) {\n              fs__WEBPACK_IMPORTED_MODULE_6__.unlinkSync(existingImagePath);\n            }\n          }\n          hashpassword = crypto_js__WEBPACK_IMPORTED_MODULE_5__.AES.encrypt(password, 'SecretKey').toString();\n          query = \"\\n      UPDATE Emp_Details\\n      SET\\n        Name = @Name,\\n        Emp_Code = @Emp_Code,\\n        dep_id = @dep_id,\\n        Designation_id = @Designation_id,\\n        Address1 = @Address1,\\n        Address2 = @Address2,\\n        Contact_No = @Contact_No,\\n        Alternate_No = @Alternate_No,\\n        DOB = @DOB,\\n        Email = @Email,\\n        Gender = @Gender,\\n        image = @image,\\n        Bank_Details = @Bank_Details,\\n        Qualification = @Qualification,\\n        password=@hashpassword,\\n        RoleID='4'\\n      WHERE Emp_id = @Emp_id\\n    \";\n          _context6.next = 29;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id,\n            Name: Name,\n            Emp_Code: Emp_Code,\n            dep_id: dep_id,\n            Designation_id: Designation_id,\n            Address1: Address1,\n            Address2: Address2,\n            Contact_No: Contact_No,\n            Alternate_No: Alternate_No,\n            DOB: DOB,\n            Email: Email,\n            Gender: Gender,\n            image: imageUrl,\n            Bank_Details: Bank_Details,\n            Qualification: Qualification,\n            hashpassword: hashpassword\n          });\n        case 29:\n          result = _context6.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context6.next = 36;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Updated Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 36:\n          _context6.next = 41;\n          break;\n        case 38:\n          _context6.prev = 38;\n          _context6.t0 = _context6[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context6.t0);\n        case 41:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 38]]);\n  }));\n  return function EditEmployee(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar Delete_Emp = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var Emp_id, query, result;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          Emp_id = req.params.Emp_id;\n          query = 'delete from Emp_Details where Emp_id=@Emp_id';\n          _context7.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id\n          });\n        case 5:\n          result = _context7.sent;\n          if (!(result.rowsAffected[0] > 0)) {\n            _context7.next = 14;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Deleted Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context7.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 14:\n          // console.log('isDuplicate:', isDuplicate)\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee not found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context7.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          _context7.next = 24;\n          break;\n        case 21:\n          _context7.prev = 21;\n          _context7.t0 = _context7[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context7.t0);\n        case 24:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[0, 21]]);\n  }));\n  return function Delete_Emp(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar totalsalary = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var query, result, _totalsalary;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          query = 'SELECT sum(salary) AS salaryOfEmp FROM Emp_Details';\n          _context8.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query);\n        case 4:\n          result = _context8.sent;\n          if (!(result.recordset.length > 0)) {\n            _context8.next = 12;\n            break;\n          }\n          _totalsalary = result.recordset[0].salaryOfEmp;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = _totalsalary;\n          return _context8.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 12:\n          _context8.next = 17;\n          break;\n        case 14:\n          _context8.prev = 14;\n          _context8.t0 = _context8[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context8.t0);\n        case 17:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 14]]);\n  }));\n  return function totalsalary(_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar totalEmp = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var query, result, _totalEmp;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          query = 'SELECT COUNT(Emp_id) AS totalEmployees FROM Emp_Details';\n          _context9.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query);\n        case 4:\n          result = _context9.sent;\n          if (!(result.recordset.length > 0)) {\n            _context9.next = 14;\n            break;\n          }\n          _totalEmp = result.recordset[0].totalEmployees;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            totalEmp: _totalEmp\n          };\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 14:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No employees found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          _context9.next = 24;\n          break;\n        case 21:\n          _context9.prev = 21;\n          _context9.t0 = _context9[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context9.t0);\n        case 24:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 21]]);\n  }));\n  return function totalEmp(_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nvar Emp_LoggedIn = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res, next) {\n    var _req$body4, emailOrUsername, password, userRole, isEmail, query, result, user, token, Emp_id;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _req$body4 = req.body, emailOrUsername = _req$body4.emailOrUsername, password = _req$body4.password, userRole = _req$body4.userRole;\n          _context10.prev = 1;\n          isEmail = emailOrUsername.includes('@gmail.com');\n          query = isEmail ? 'SELECT ED.*, R.RoleName, R.RoleID FROM Emp_Details ED JOIN Roles_R R ON ED.RoleID = R.RoleID WHERE ED.Email=@emailOrUsername' : 'SELECT ED.*, R.RoleName, R.RoleID FROM Emp_Details ED JOIN Roles_R R ON ED.RoleID = R.RoleID WHERE ED.Name=@emailOrUsername';\n          _context10.next = 6;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            emailOrUsername: emailOrUsername,\n            password: password\n          });\n        case 6:\n          result = _context10.sent;\n          user = result.recordset[0];\n          if (user) {\n            _context10.next = 14;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'User not found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context10.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 14:\n          console.log(userRole);\n          if (!(user.RoleName !== userRole)) {\n            _context10.next = 21;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Unauthorized access. Insufficient role.';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context10.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 21:\n          token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_7__.sign({\n            Emp_id: user.Emp_id\n          }, \"secretkey\");\n          Emp_id = user.Emp_id;\n          res.cookie('token', token);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            Emp_id: Emp_id,\n            token: token,\n            userRole: userRole\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'You are logged in';\n          return _context10.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 31:\n          _context10.prev = 31;\n          _context10.t0 = _context10[\"catch\"](1);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context10.t0);\n        case 34:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[1, 31]]);\n  }));\n  return function Emp_LoggedIn(_x19, _x20, _x21) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar Emp_Leave = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res, next) {\n    var Emp_id, _req$body5, LeaveFrom, LeaveTo, Days, Reason, currentDate, query, result;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          Emp_id = req.user.Emp_id;\n          _req$body5 = req.body, LeaveFrom = _req$body5.LeaveFrom, LeaveTo = _req$body5.LeaveTo, Days = _req$body5.Days, Reason = _req$body5.Reason;\n          _context11.prev = 2;\n          if (!(Emp_id === undefined || Emp_id === 'undefined')) {\n            _context11.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Emp_id is missing or undefined';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context11.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 9:\n          currentDate = new Date().toISOString();\n          query = \"\\n      INSERT INTO Leave_mst (Emp_id, LeaveFrom, LeaveTo, Days, Reason, CreatedAt,status)\\n      VALUES (@Emp_id, @LeaveFrom, @LeaveTo, @Days, @Reason, @CreatedAt,'pending')\\n    \";\n          _context11.next = 13;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id,\n            LeaveFrom: LeaveFrom,\n            LeaveTo: LeaveTo,\n            Days: Days,\n            Reason: Reason,\n            CreatedAt: currentDate\n          });\n        case 13:\n          result = _context11.sent;\n          if (!(result.rowsAffected.length > 0)) {\n            _context11.next = 20;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Leave Recorded';\n          return _context11.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          _context11.next = 25;\n          break;\n        case 22:\n          _context11.prev = 22;\n          _context11.t0 = _context11[\"catch\"](2);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context11.t0);\n        case 25:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[2, 22]]);\n  }));\n  return function Emp_Leave(_x22, _x23, _x24) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nvar Logout = function Logout(req, res) {\n  res.clearCookie('token');\n  return res.json('cookie remove');\n};\nvar ApprovedLeave = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res) {\n    var Emp_id, query, result, totalApprovedLeave;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.prev = 0;\n          Emp_id = req.user.Emp_id; // console.log(Emp_id)\n          query = \"SELECT \\n  SUM(Days) AS TotalLeaveDays\\nFROM \\n  Leave_mst\\nWHERE \\n  Emp_id = @Emp_id\\n  AND Status = 'Approved'\\n\";\n          _context12.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id\n          });\n        case 5:\n          result = _context12.sent;\n          if (!(result.recordset.length > 0)) {\n            _context12.next = 15;\n            break;\n          }\n          totalApprovedLeave = result.recordset[0].TotalLeaveDays;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            totalApprovedLeave: totalApprovedLeave\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context12.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 15:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No Leave found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context12.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          _context12.next = 25;\n          break;\n        case 22:\n          _context12.prev = 22;\n          _context12.t0 = _context12[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context12.t0);\n        case 25:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12, null, [[0, 22]]);\n  }));\n  return function ApprovedLeave(_x25, _x26) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nvar EmpTotalLeave = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req, res) {\n    var Emp_id, query, result, totalEmpLeave;\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.prev = 0;\n          Emp_id = req.user.Emp_id;\n          console.log(Emp_id);\n          query = \"\\n    SELECT \\n      SUM(Days) AS TotalLeaveDays\\n    FROM \\n      Leave_mst\\n    WHERE \\n      Emp_id = @Emp_id\\n      AND Status IN ('Approved', 'Reject')\\n  \";\n          _context13.next = 6;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id\n          });\n        case 6:\n          result = _context13.sent;\n          if (!(result.recordset.length > 0)) {\n            _context13.next = 16;\n            break;\n          }\n          totalEmpLeave = result.recordset[0].TotalLeaveDays;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            totalEmpLeave: totalEmpLeave\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context13.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 16:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No Leave found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context13.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 21:\n          _context13.next = 26;\n          break;\n        case 23:\n          _context13.prev = 23;\n          _context13.t0 = _context13[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context13.t0);\n        case 26:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13, null, [[0, 23]]);\n  }));\n  return function EmpTotalLeave(_x27, _x28) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nvar RejectedLeave = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req, res) {\n    var Emp_id, query, result, totalrejectLeave;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          _context14.prev = 0;\n          Emp_id = req.user.Emp_id; // console.log(Emp_id)\n          query = \"SELECT \\n  SUM(Days) AS TotalLeaveDays\\nFROM \\n  Leave_mst\\nWHERE \\n  Emp_id = @Emp_id\\n  AND Status = 'Reject'\\n\";\n          _context14.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id\n          });\n        case 5:\n          result = _context14.sent;\n          if (!(result.recordset.length > 0)) {\n            _context14.next = 15;\n            break;\n          }\n          totalrejectLeave = result.recordset[0].TotalLeaveDays;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            totalrejectLeave: totalrejectLeave\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context14.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 15:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No Leave found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context14.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          _context14.next = 25;\n          break;\n        case 22:\n          _context14.prev = 22;\n          _context14.t0 = _context14[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context14.t0);\n        case 25:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14, null, [[0, 22]]);\n  }));\n  return function RejectedLeave(_x29, _x30) {\n    return _ref14.apply(this, arguments);\n  };\n}();\nvar EmpAllLeaves = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(req, res) {\n    var Emp_id, query, result, allLeaves;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.prev = 0;\n          Emp_id = req.user.Emp_id;\n          query = \"\\n    SELECT \\n      L.leave_id,\\n      L.leaveFrom,\\n      L.LeaveTo,\\n      L.Days,\\n      L.Reason,\\n      L.Remarks, \\n      L.CreatedAt,\\n      L.Status,\\n      U.username\\n    FROM \\n      Leave_mst L\\n      JOIN Users_mst U ON U.User_ID = L.User_ID\\n    WHERE \\n      L.Emp_id = @Emp_id;\";\n          _context15.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Emp_id: Emp_id\n          });\n        case 5:\n          result = _context15.sent;\n          if (!(result.recordset.length > 0)) {\n            _context15.next = 15;\n            break;\n          }\n          allLeaves = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = allLeaves;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context15.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 15:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No Leave found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context15.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          _context15.next = 25;\n          break;\n        case 22:\n          _context15.prev = 22;\n          _context15.t0 = _context15[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context15.t0);\n        case 25:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15, null, [[0, 22]]);\n  }));\n  return function EmpAllLeaves(_x31, _x32) {\n    return _ref15.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/Employee.controllers.js?");

/***/ }),

/***/ "./src/Controllers/Role.controller.js":
/*!********************************************!*\
  !*** ./src/Controllers/Role.controller.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddRole: () => (/* binding */ AddRole),\n/* harmony export */   EditRole: () => (/* binding */ EditRole),\n/* harmony export */   GetALLRole: () => (/* binding */ GetALLRole),\n/* harmony export */   deleteRole: () => (/* binding */ deleteRole)\n/* harmony export */ });\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\n/* harmony import */ var _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiResult.js */ \"./src/utils/ApiResult.js\");\n/* harmony import */ var _utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/checkduplicate.js */ \"./src/utils/checkduplicate.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\nvar GetALLRole = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var query, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          query = 'select * from Roles_R';\n          _context.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query);\n        case 4:\n          result = _context.sent;\n          res.status(200).json(result.recordset);\n          _context.next = 11;\n          break;\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context.t0));\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n  return function GetALLRole(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar EditRole = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var RoleID, RoleName, isDuplicateEdit, updateQuery, updateResult;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          RoleID = req.params.RoleID;\n          RoleName = req.body.RoleName;\n          if (RoleName) {\n            _context2.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'RoleName can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 9:\n          _context2.next = 11;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_3__.checkDuplicate)('Roles_R', ['RoleName', 'RoleID'], [RoleName, RoleID], 'RoleID');\n        case 11:\n          isDuplicateEdit = _context2.sent;\n          if (!isDuplicateEdit) {\n            _context2.next = 18;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'RoleName already exists';\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 18:\n          updateQuery = 'UPDATE Roles_R SET RoleName = @RoleName WHERE RoleID = @RoleID';\n          _context2.next = 21;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(updateQuery, {\n            RoleName: RoleName,\n            RoleID: RoleID\n          });\n        case 21:\n          updateResult = _context2.sent;\n          if (!(updateResult.rowsAffected.length > 0)) {\n            _context2.next = 28;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Role Updated successfully';\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 28:\n          _context2.next = 33;\n          break;\n        case 30:\n          _context2.prev = 30;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context2.t0));\n        case 33:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 30]]);\n  }));\n  return function EditRole(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar AddRole = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var RoleName, isDuplicate, insertQuery, insertResult;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          RoleName = req.body.RoleName;\n          if (RoleName) {\n            _context3.next = 8;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'RoleName can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 8:\n          _context3.next = 10;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_3__.checkDuplicate)('Roles_R', ['RoleName'], [RoleName]);\n        case 10:\n          isDuplicate = _context3.sent;\n          if (!isDuplicate) {\n            _context3.next = 17;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'RoleName already exists';\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 17:\n          insertQuery = 'INSERT INTO Roles_R (RoleName) VALUES (@RoleName)';\n          _context3.next = 20;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(insertQuery, {\n            RoleName: RoleName\n          });\n        case 20:\n          insertResult = _context3.sent;\n          if (!(insertResult && insertResult.rowsAffected > 0)) {\n            _context3.next = 27;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Role Added Successfully';\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 27:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'unable to add Role';\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 34:\n          _context3.prev = 34;\n          _context3.t0 = _context3[\"catch\"](0);\n          return _context3.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context3.t0));\n        case 37:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 34]]);\n  }));\n  return function AddRole(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar deleteRole = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var RoleID, query, result;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          RoleID = req.params.RoleID;\n          query = 'DELETE FROM Roles_R WHERE RoleID = @RoleID';\n          _context4.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            RoleID: RoleID\n          });\n        case 5:\n          result = _context4.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context4.next = 14;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Role Deleted Successfully';\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 14:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Role not found';\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 19:\n          _context4.next = 24;\n          break;\n        case 21:\n          _context4.prev = 21;\n          _context4.t0 = _context4[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context4.t0);\n        case 24:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 21]]);\n  }));\n  return function deleteRole(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/Role.controller.js?");

/***/ }),

/***/ "./src/Controllers/attendence.controller.js":
/*!**************************************************!*\
  !*** ./src/Controllers/attendence.controller.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CountHoliday: () => (/* binding */ CountHoliday),\n/* harmony export */   EditAttendance: () => (/* binding */ EditAttendance),\n/* harmony export */   GetHoliday: () => (/* binding */ GetHoliday),\n/* harmony export */   Holidays: () => (/* binding */ Holidays),\n/* harmony export */   attendance: () => (/* binding */ attendance),\n/* harmony export */   recordAttendence: () => (/* binding */ recordAttendence),\n/* harmony export */   totalAbsent: () => (/* binding */ totalAbsent),\n/* harmony export */   totalPresent: () => (/* binding */ totalPresent)\n/* harmony export */ });\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\n/* harmony import */ var _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiResult.js */ \"./src/utils/ApiResult.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar isDateHoliday = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(date) {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)('SELECT * FROM Holidays WHERE Holiday = @Date', {\n            Date: date\n          });\n        case 3:\n          result = _context.sent;\n          return _context.abrupt(\"return\", result.recordset.length > 0);\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          console.error('Error checking holidays:', _context.t0);\n          throw _context.t0;\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return function isDateHoliday(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar recordAttendence = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var records, _iterator, _step, record, Emp_id, _Date, _attendance, holiday, checkQuery, existingRecords, insertQuery;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          records = req.body;\n          if (!(!Array.isArray(records) || records.length === 0)) {\n            _context2.next = 8;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'No Department Found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '400', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'Invalid attendance records'));\n        case 8:\n          _iterator = _createForOfIteratorHelper(records);\n          _context2.prev = 9;\n          _iterator.s();\n        case 11:\n          if ((_step = _iterator.n()).done) {\n            _context2.next = 30;\n            break;\n          }\n          record = _step.value;\n          Emp_id = record.Emp_id, _Date = record.Date, _attendance = record.attendance;\n          _context2.next = 16;\n          return isDateHoliday(_Date);\n        case 16:\n          holiday = _context2.sent;\n          if (!holiday) {\n            _context2.next = 19;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '400', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'Attendance cannot be recorded on a holiday '));\n        case 19:\n          checkQuery = 'SELECT COUNT(*) AS count FROM Attendance WHERE Emp_id = @Emp_id AND Date = @Date';\n          _context2.next = 22;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(checkQuery, {\n            Emp_id: Emp_id,\n            Date: _Date\n          });\n        case 22:\n          existingRecords = _context2.sent;\n          if (!(existingRecords.recordset[0].count > 0)) {\n            _context2.next = 25;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '400', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'Attendance record already exists for the same employee on the same date'));\n        case 25:\n          insertQuery = 'INSERT INTO Attendance (Emp_id, Date, attendance) VALUES (@Emp_id, @Date, @attendance)';\n          _context2.next = 28;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(insertQuery, {\n            Emp_id: Emp_id,\n            Date: _Date,\n            attendance: _attendance\n          });\n        case 28:\n          _context2.next = 11;\n          break;\n        case 30:\n          _context2.next = 35;\n          break;\n        case 32:\n          _context2.prev = 32;\n          _context2.t0 = _context2[\"catch\"](9);\n          _iterator.e(_context2.t0);\n        case 35:\n          _context2.prev = 35;\n          _iterator.f();\n          return _context2.finish(35);\n        case 38:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Attendance inserted successfully', _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 44:\n          _context2.prev = 44;\n          _context2.t1 = _context2[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context2.t1);\n        case 47:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 44], [9, 32, 35, 38]]);\n  }));\n  return function recordAttendence(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar Holidays = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var holidays, _iterator2, _step2, holiday, holidayDate, query, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          holidays = req.body.holidays; // console.log(req.body)\n          if (!(!holidays || holidays.length === 0)) {\n            _context3.next = 7;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'No holidays provided', _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 7:\n          _iterator2 = _createForOfIteratorHelper(holidays);\n          _context3.prev = 8;\n          _iterator2.s();\n        case 10:\n          if ((_step2 = _iterator2.n()).done) {\n            _context3.next = 21;\n            break;\n          }\n          holiday = _step2.value;\n          holidayDate = holiday.Holiday;\n          _context3.next = 15;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)('DELETE FROM Holidays WHERE Holiday = @Holiday', {\n            Holiday: holidayDate\n          });\n        case 15:\n          query = 'INSERT INTO Holidays (Holiday) VALUES (@Holiday)';\n          _context3.next = 18;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            Holiday: holidayDate\n          });\n        case 18:\n          result = _context3.sent;\n        case 19:\n          _context3.next = 10;\n          break;\n        case 21:\n          _context3.next = 26;\n          break;\n        case 23:\n          _context3.prev = 23;\n          _context3.t0 = _context3[\"catch\"](8);\n          _iterator2.e(_context3.t0);\n        case 26:\n          _context3.prev = 26;\n          _iterator2.f();\n          return _context3.finish(26);\n        case 29:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Holidays inserted successfully', _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 35:\n          _context3.prev = 35;\n          _context3.t1 = _context3[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context3.t1);\n        case 38:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 35], [8, 23, 26, 29]]);\n  }));\n  return function Holidays(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar GetHoliday = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var query, result, _data;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          query = 'select Holiday_id,Holiday from Holidays';\n          _context4.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query);\n        case 4:\n          result = _context4.sent;\n          _data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = _data;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = '';\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 13:\n          _context4.prev = 13;\n          _context4.t0 = _context4[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context4.t0);\n        case 16:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 13]]);\n  }));\n  return function GetHoliday(_x6, _x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar EditAttendance = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var Emp_id, attendanceData, checkEmployeeQuery, employeeExists, _iterator3, _step3, record, _Date2, _attendance2, checkAttendanceQuery, attendanceExists, updateAttendanceQuery, insertAttendanceQuery;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          Emp_id = req.params.Emp_id;\n          attendanceData = req.body;\n          console.log(req.body, Emp_id);\n          if (!(!Array.isArray(attendanceData) || attendanceData.length === 0)) {\n            _context5.next = 10;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = data;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Invalid input. Attendance data should be an array with date and attendance pairs.';\n          return _context5.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 10:\n          checkEmployeeQuery = 'SELECT COUNT(*) AS count FROM Emp_Details WHERE Emp_id = @Emp_id';\n          _context5.next = 13;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(checkEmployeeQuery, {\n            Emp_id: Emp_id\n          });\n        case 13:\n          employeeExists = _context5.sent;\n          if (!(employeeExists.recordset[0].count === 0)) {\n            _context5.next = 20;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = data;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Employee not found';\n          return _context5.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 20:\n          _iterator3 = _createForOfIteratorHelper(attendanceData);\n          _context5.prev = 21;\n          _iterator3.s();\n        case 23:\n          if ((_step3 = _iterator3.n()).done) {\n            _context5.next = 47;\n            break;\n          }\n          record = _step3.value;\n          _Date2 = record.Date, _attendance2 = record.attendance;\n          if (!(!_Date2 || _attendance2 === undefined)) {\n            _context5.next = 32;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = data;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'Invalid input. Each record in the array should have Date and Attendance.';\n          return _context5.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 32:\n          checkAttendanceQuery = 'SELECT COUNT(*) AS count FROM Attendance WHERE Emp_id = @Emp_id AND Date = @Date';\n          _context5.next = 35;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(checkAttendanceQuery, {\n            Emp_id: Emp_id,\n            Date: _Date2\n          });\n        case 35:\n          attendanceExists = _context5.sent;\n          if (!(attendanceExists.recordset[0].count > 0)) {\n            _context5.next = 42;\n            break;\n          }\n          updateAttendanceQuery = 'UPDATE Attendance SET attendance = @attendance WHERE Emp_id = @Emp_id AND Date = @Date';\n          _context5.next = 40;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(updateAttendanceQuery, {\n            Emp_id: Emp_id,\n            Date: _Date2,\n            attendance: _attendance2\n          });\n        case 40:\n          _context5.next = 45;\n          break;\n        case 42:\n          insertAttendanceQuery = 'INSERT INTO Attendance (Emp_id, Date, attendance) VALUES (@Emp_id, @Date, @attendance)';\n          _context5.next = 45;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(insertAttendanceQuery, {\n            Emp_id: Emp_id,\n            Date: _Date2,\n            attendance: _attendance2\n          });\n        case 45:\n          _context5.next = 23;\n          break;\n        case 47:\n          _context5.next = 52;\n          break;\n        case 49:\n          _context5.prev = 49;\n          _context5.t0 = _context5[\"catch\"](21);\n          _iterator3.e(_context5.t0);\n        case 52:\n          _context5.prev = 52;\n          _iterator3.f();\n          return _context5.finish(52);\n        case 55:\n          res.json({\n            statusCode: '200',\n            isAuth: true,\n            message: 'Attendance updated successfully.',\n            data: null\n          });\n          _context5.next = 62;\n          break;\n        case 58:\n          _context5.prev = 58;\n          _context5.t1 = _context5[\"catch\"](0);\n          console.error(_context5.t1);\n          return _context5.abrupt(\"return\", res.status(500).json({\n            statusCode: '500',\n            message: 'Internal server error.',\n            isAuth: false\n          }));\n        case 62:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 58], [21, 49, 52, 55]]);\n  }));\n  return function EditAttendance(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar totalPresent = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var _attendance3, query, result;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _attendance3 = 'present';\n          query = \"\\n      SELECT COUNT(*) AS PresentEmp \\n      FROM Attendance \\n      WHERE attendance = @attendance AND CONVERT(DATE, date) = CONVERT(DATE, GETDATE())\";\n          _context6.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            attendance: _attendance3\n          });\n        case 5:\n          result = _context6.sent;\n          if (!(result.recordset.length > 0)) {\n            _context6.next = 14;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = result.recordset[0];\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = '';\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 14:\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '400', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'No One Is Present');\n        case 15:\n          _context6.next = 20;\n          break;\n        case 17:\n          _context6.prev = 17;\n          _context6.t0 = _context6[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context6.t0);\n        case 20:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 17]]);\n  }));\n  return function totalPresent(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar totalAbsent = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var _attendance4, query, result;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _attendance4 = 'absent';\n          query = \"\\n    SELECT COUNT(*) AS AbsentEmp \\n    FROM Attendance \\n    WHERE attendance = @attendance AND CONVERT(DATE, date) = CONVERT(DATE, GETDATE())\";\n          _context7.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            attendance: _attendance4\n          });\n        case 5:\n          result = _context7.sent;\n          if (!(result.recordset.length > 0)) {\n            _context7.next = 14;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = result.recordset[0];\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = '';\n          return _context7.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 14:\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '400', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'No One Is Present');\n        case 15:\n          _context7.next = 20;\n          break;\n        case 17:\n          _context7.prev = 17;\n          _context7.t0 = _context7[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context7.t0);\n        case 20:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[0, 17]]);\n  }));\n  return function totalAbsent(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n// const attendance_Monthwise = async (req, res, next) => {\n// const Emp_id=req.Emp_id\n\n//   const{year,month,startDate,endDate,dep_id,Emp_Code}=req.query\n//   try {\n//        let query = `\n//         SELECT\n//           E.Emp_id,\n//           E.Emp_Code,\n//           E.Name,\n//           A.Date,\n//           A.attendance,\n//           D.dep_id,\n//           D.Department\n//         FROM\n//           Emp_Details E\n//         JOIN\n//           Attendance A ON E.Emp_id = A.Emp_id\n//         JOIN\n//           Department_mst D ON E.dep_id = D.dep_id`;\n\n//     if (year) {\n//       query += ` AND YEAR(A.Date) = @year`;\n//     }\n\n//     if (month) {\n//       query += ` AND MONTH(A.Date) = @month`;\n//     }\n\n//     if (startDate && endDate) {\n//       query += ` AND A.Date BETWEEN @startDate AND @endDate`;\n//     }\n\n//     if (dep_id) {\n//       query += ` AND E.dep_id = @dep_id`;\n//     }\n\n//     if (Emp_Code) {\n//       query += ` AND E.Emp_Code = @Emp_Code`;\n//     }\n\n//     if (Emp_id) {\n//       query += ` AND E.Emp_id = @Emp_id`;\n//     }\n\n//     const result = await BindData(query, {\n//       year,\n//       month,\n//       startDate,\n//       endDate,\n//       dep_id,\n//       Emp_Code,\n//       Emp_id,\n//     });\n\n//     res.status(200).json(result.recordset);\n//   } catch (error) {\n//   res.json(\n//     returnerror.statusCode = '500',\n//     returnerror.message = 'internal server error' + error\n//   )\n// }\n// };\n\n// const attendance = async (req, res, next) => {\n//   const{startDate, endDate}=req.params\n//   // const {  Emp_id } = req.body;\n// const Emp_id=req.Emp_id\n//   try {\n//     let query = `\n//     SELECT\n//       E.Emp_id,\n//       E.Emp_Code,\n//       E.Name,\n//       M.Month,\n//       DateTable.Date AS Date,\n//       CASE\n//         WHEN A.attendance = 'Present' THEN 'Present'\n//         WHEN A.attendance = 'Absent' THEN 'Absent'\n//         WHEN H.Holiday IS NOT NULL THEN 'Holiday'\n//         WHEN L.leave_id IS NOT NULL AND L.Status = 'approved' THEN 'Leave'\n//         ELSE NULL\n//       END AS attendance,\n//       D.dep_id,\n//       D.Department\n//     FROM\n//       Emp_Details E\n//     JOIN\n//       MonthWiseAttendance M ON 1 = 1\n//     JOIN\n//       Department_mst D ON E.dep_id = D.dep_id\n//     CROSS APPLY (\n//       SELECT TOP (DATEDIFF(DAY, @startDate, @endDate) + 1)\n//         DATEADD(DAY, ROW_NUMBER() OVER (ORDER BY (SELECT NULL)) - 1, @startDate) AS Date\n//       FROM\n//         sys.all_objects\n//     ) DateTable\n//     LEFT JOIN\n//       Attendance A ON E.Emp_id = A.Emp_id AND DateTable.Date = A.Date\n//     LEFT JOIN\n//       Holidays H ON DateTable.Date = H.Holiday\n//     LEFT JOIN\n//       Leave_mst L ON E.Emp_id = L.Emp_id AND DateTable.Date BETWEEN L.LeaveFrom AND L.LeaveTo\n//     WHERE\n//       E.Emp_id = @Emp_id\n//       AND UPPER(M.Month) = UPPER(FORMAT(DateTable.Date, 'MMMM'));\n//   `;\n\n//     const result = await BindData(query, {\n//       Emp_id,\n//       startDate,\n//       endDate\n//     });\n\n//     if (result.recordset && result.recordset.length > 0) {\n//       const attendanceData = result.recordset.reduce((acc, record) => {\n//         const monthKey = record.Month;\n//         const date = record.Date.toISOString().split('T')[0];\n\n//         if (!acc[monthKey]) {\n//           acc[monthKey] = {\n//             Emp_id: record.Emp_id,\n//             Emp_Code: record.Emp_Code,\n//             Name: record.Name,\n//             Department: record.Department,\n//             [monthKey]: [],\n//           };\n//         }\n\n//         acc[monthKey][monthKey].push({\n//           Date: date,\n//           attendance: record.attendance,\n//         });\n\n//         return acc;\n//       }, {});\n\n//       res.status(200).json(Object.values(attendanceData));\n//     } else {\n//       res.status(404).json({\n//         statusCode: '404',\n//         message: 'Employee not found or has no attendance records in the specified date range.',\n//       });\n//     }\n//   }catch (error) {\n//     res.json(\n//       returnerror.statusCode = '500',\n//       returnerror.message = 'internal server error' + error\n//     )\n//   }\n// };\n// const attendance = async (req, res, next) => {\n//   const { startYear, startMonth, endYear, endMonth } = req.params;\n\n//   const startDate = new Date(`${startYear}-${startMonth}-01`);\n//   const endDate = new Date(`${endYear}-${endMonth}-01`);\n//   endDate.setMonth(endDate.getMonth() + 1);\n//   endDate.setDate(endDate.getDate() - 1);\n\n//   const Emp_id = req.Emp_id;\n\n//   try {\n//     let query = `\n//     SELECT\n//       E.Emp_id,\n//       E.Emp_Code,\n//       E.Name,\n//       M.Month,\n//       DateTable.Date AS Date,\n//       CASE\n//         WHEN A.attendance = 'Present' THEN 'Present'\n//         WHEN A.attendance = 'Absent' THEN 'Absent'\n//         WHEN H.Holiday IS NOT NULL THEN 'Holiday'\n//         WHEN L.leave_id IS NOT NULL AND L.Status = 'approved' THEN 'Leave'\n//         ELSE NULL\n//       END AS attendance,\n//       D.dep_id,\n//       D.Department\n//     FROM\n//       Emp_Details E\n//     JOIN\n//       MonthWiseAttendance M ON 1 = 1\n//     JOIN\n//       Department_mst D ON E.dep_id = D.dep_id\n//     CROSS APPLY (\n//       SELECT TOP (DATEDIFF(DAY, @startDate, @endDate) + 1)\n//         DATEADD(DAY, ROW_NUMBER() OVER (ORDER BY (SELECT NULL)) - 1, @startDate) AS Date\n//       FROM\n//         sys.all_objects\n//     ) DateTable\n//     LEFT JOIN\n//       Attendance A ON E.Emp_id = A.Emp_id AND DateTable.Date = A.Date\n//     LEFT JOIN\n//       Holidays H ON DateTable.Date = H.Holiday\n//     LEFT JOIN\n//       Leave_mst L ON E.Emp_id = L.Emp_id AND DateTable.Date BETWEEN L.LeaveFrom AND L.LeaveTo\n//     WHERE\n//       E.Emp_id = @Emp_id\n//       AND UPPER(M.Month) = UPPER(FORMAT(DateTable.Date, 'MMMM'));\n//   `;\n\n//     const result = await BindData(query, {\n//       Emp_id,\n//       startDate,\n//       endDate\n//     });\n\n//     if (result.recordset && result.recordset.length > 0) {\n//       const attendanceData = result.recordset.reduce((acc, record) => {\n//         const monthKey = record.Month;\n//         const date = record.Date.toISOString().split('T')[0];\n\n//         if (!acc[monthKey]) {\n//           acc[monthKey] = {\n//             Emp_id: record.Emp_id,\n//             Emp_Code: record.Emp_Code,\n//             Name: record.Name,\n//             Department: record.Department,\n//             [monthKey]: [],\n//           };\n//         }\n\n//         acc[monthKey][monthKey].push({\n//           Date: date,\n//           attendance: record.attendance,\n//         });\n// console.log(acc)\n//         return acc;\n//       }, {});\n\n//       res.status(200).json(Object.values(attendanceData));\n//     } else {\n//       res.status(404).json({\n//         statusCode: '404',\n//         message: 'Employee not found or has no attendance records in the specified date range.',\n//       });\n//     }\n//   } catch (error) {\n//     res.status(500).json({\n//       statusCode: '500',\n//       message: 'Internal server error',\n//       error: error.message\n//     });\n//   }\n// };\n// ----------------------------immp Emp----------------------\n// const attendance = async (req, res, next) => {\n//   const { startYear, startMonth, endYear, endMonth } = req.params;\n\n//   const startDate = new Date(`${startYear}-${startMonth}-01`);\n//   const endDate = new Date(`${endYear}-${endMonth}-01`);\n//   endDate.setMonth(endDate.getMonth() + 1);\n//   endDate.setDate(endDate.getDate() - 1);\n\n//   const Emp_id = req.Emp_id;\n\n//   try {\n//     const query = `\n//       SELECT\n//         E.Emp_id,\n//         E.Emp_Code,\n//         E.Name,\n//         FORMAT(DateTable.Date, 'MMMM') AS Month,\n//         YEAR(DateTable.Date) AS Year,\n//         DateTable.Date AS Date,\n//         CASE\n//           WHEN A.attendance = 'Present' THEN 'Present'\n//           WHEN A.attendance = 'Absent' THEN 'Absent'\n//           WHEN H.Holiday IS NOT NULL THEN 'Holiday'\n//           WHEN L.leave_id IS NOT NULL AND L.Status = 'approved' THEN 'Leave'\n//           ELSE NULL\n//         END AS attendance\n//       FROM\n//         Emp_Details E\n//       CROSS APPLY (\n//         SELECT TOP (DATEDIFF(DAY, @startDate, @endDate) + 1)\n//           DATEADD(DAY, ROW_NUMBER() OVER (ORDER BY (SELECT NULL)) - 1, @startDate) AS Date\n//         FROM\n//           sys.all_objects\n//       ) DateTable\n//       LEFT JOIN\n//         Attendance A ON E.Emp_id = A.Emp_id AND DateTable.Date = A.Date\n//       LEFT JOIN\n//         Holidays H ON DateTable.Date = H.Holiday\n//       LEFT JOIN\n//         Leave_mst L ON E.Emp_id = L.Emp_id AND DateTable.Date BETWEEN L.LeaveFrom AND L.LeaveTo\n//       WHERE\n//         E.Emp_id = @Emp_id\n//         AND DateTable.Date BETWEEN @startDate AND @endDate;\n//     `;\n\n//     const result = await BindData(query, {\n//       Emp_id,\n//       startDate,\n//       endDate\n//     });\n\n//     if (result.recordset && result.recordset.length > 0) {\n//       const employeeDetails = {\n//         Emp_id: result.recordset[0].Emp_id,\n//         Emp_Code: result.recordset[0].Emp_Code,\n//         Name: result.recordset[0].Name,\n//         Attendance: [],\n//       };\n\n//       const monthsData = {};\n\n//       result.recordset.forEach(record => {\n//         const monthKey = `${record.Month} ${record.Year}`;\n\n//         if (!monthsData[monthKey]) {\n//           monthsData[monthKey] = {\n//             Month: record.Month,\n//             Year: record.Year,\n//             Dates: [],\n//           };\n//         }\n\n//         const date = record.Date.toISOString().split('T')[0];\n//         monthsData[monthKey].Dates.push({\n//           Date: date,\n//           attendance: record.attendance,\n//         });\n//       });\n\n//       employeeDetails.Attendance = Object.values(monthsData);\n\n//       res.status(200).json([employeeDetails]);\n//     } else {\n//       res.status(404).json({\n//         statusCode: '404',\n//         message: 'Employee not found or has no attendance records in the specified date range.',\n//       });\n//     }\n//   } catch (error) {\n//     res.status(500).json({\n//       statusCode: '500',\n//       message: 'Internal server error',\n//       error: error.message\n//     });\n//   }\n// };\n// -----------------------ALLL--------------------\n// const attendance = async (req, res, next) => {\n//   const { startYear, startMonth, endYear, endMonth } = req.params;\n\n//   const startDate = new Date(`${startYear}-${startMonth}-01`);\n//   const endDate = new Date(`${endYear}-${endMonth}-01`);\n//   endDate.setMonth(endDate.getMonth() + 1);\n//   endDate.setDate(endDate.getDate() - 1);\n\n//   try {\n//     const query = `\n//       SELECT\n//         E.Emp_id,\n//         E.Emp_Code,\n//         E.Name,\n//         FORMAT(DateTable.Date, 'MMMM') AS Month,\n//         YEAR(DateTable.Date) AS Year,\n//         DateTable.Date AS Date,\n//         CASE\n//           WHEN A.attendance = 'Present' THEN 'Present'\n//           WHEN A.attendance = 'Absent' THEN 'Absent'\n//           WHEN H.Holiday IS NOT NULL THEN 'Holiday'\n//           WHEN L.leave_id IS NOT NULL AND L.Status = 'approved' THEN 'Leave'\n//           ELSE NULL\n//         END AS attendance\n//       FROM\n//         Emp_Details E\n//       CROSS APPLY (\n//         SELECT TOP (DATEDIFF(DAY, @startDate, @endDate) + 1)\n//           DATEADD(DAY, ROW_NUMBER() OVER (ORDER BY (SELECT NULL)) - 1, @startDate) AS Date\n//         FROM\n//           sys.all_objects\n//       ) DateTable\n//       LEFT JOIN\n//         Attendance A ON E.Emp_id = A.Emp_id AND DateTable.Date = A.Date\n//       LEFT JOIN\n//         Holidays H ON DateTable.Date = H.Holiday\n//       LEFT JOIN\n//         Leave_mst L ON E.Emp_id = L.Emp_id AND DateTable.Date BETWEEN L.LeaveFrom AND L.LeaveTo\n//       WHERE\n//         DateTable.Date BETWEEN @startDate AND @endDate\n//       ORDER BY\n//         E.Emp_id, DateTable.Date;\n//     `;\n\n//     const result = await BindData(query, {\n//       startDate,\n//       endDate\n//     });\n\n//     if (result.recordset && result.recordset.length > 0) {\n//       const employeesData = {};\n\n//       result.recordset.forEach(record => {\n//         const employeeKey = `${record.Emp_id}`;\n\n//         if (!employeesData[employeeKey]) {\n//           employeesData[employeeKey] = {\n//             Emp_id: record.Emp_id,\n//             Emp_Code: record.Emp_Code,\n//             Name: record.Name,\n//             Attendance: [],\n//           };\n//         }\n\n//         const monthKey = `${record.Month} ${record.Year}`;\n\n//         if (!employeesData[employeeKey].Attendance[monthKey]) {\n//           employeesData[employeeKey].Attendance[monthKey] = {\n//             Month: record.Month,\n//             Year: record.Year,\n//             Dates: [],\n//           };\n//         }\n\n//         const date = record.Date.toISOString().split('T')[0];\n\n//         employeesData[employeeKey].Attendance[monthKey].Dates.push({\n//           Date: date,\n//           attendance: record.attendance,\n//         });\n//       });\n\n//       const finalData = Object.values(employeesData).map(employee => {\n//         const attendanceArray = Object.values(employee.Attendance).map(monthData => ({\n//           Month: monthData.Month,\n//           Year: monthData.Year,\n//           Dates: monthData.Dates,\n//         }));\n\n//         return {\n//           Emp_id: employee.Emp_id,\n//           Emp_Code: employee.Emp_Code,\n//           Name: employee.Name,\n//           Attendance: attendanceArray,\n//         };\n//       });\n\n//       res.status(200).json(finalData);\n//     } else {\n//       res.status(404).json({\n//         statusCode: '404',\n//         message: 'No attendance records found in the specified date range.',\n//       });\n//     }\n//   } catch (error) {\n//     res.status(500).json({\n//       statusCode: '500',\n//       message: 'Internal server error',\n//       error: error.message\n//     });\n//   }\n// };\n\nvar CountHoliday = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res, next) {\n    var year, query, result, totalholiday;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          year = req.params.year;\n          if (!(!year || isNaN(year))) {\n            _context8.next = 4;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '400', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'Invalid year provided'));\n        case 4:\n          query = 'SELECT COUNT(*) AS holidayCount FROM Holidays WHERE YEAR(Holiday) = @Year'; // console.log('Executing query:', query);\n          _context8.next = 7;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            year: year\n          });\n        case 7:\n          result = _context8.sent;\n          if (!(!result || !result.recordset)) {\n            _context8.next = 10;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '400', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'No data returned from the database'));\n        case 10:\n          totalholiday = result.recordset[0].holidayCount; // console.log('Total Holidays:', totalholiday);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = '';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = {\n            totalholiday: totalholiday\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          return _context8.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 18:\n          _context8.prev = 18;\n          _context8.t0 = _context8[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context8.t0);\n        case 21:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 18]]);\n  }));\n  return function CountHoliday(_x15, _x16, _x17) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar attendance = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res, next) {\n    var _req$params, startDate, endDate, Emp_id, query, result, attendanceData;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _req$params = req.params, startDate = _req$params.startDate, endDate = _req$params.endDate;\n          Emp_id = req.user.Emp_id;\n          _context9.prev = 2;\n          query = \"\\n    WITH DateCTE AS (\\n      SELECT CAST(@startDate AS DATE) AS Date\\n      UNION ALL\\n      SELECT DATEADD(DAY, 1, Date)\\n      FROM DateCTE\\n      WHERE Date < @endDate\\n    )\\n    \\n    \\n    SELECT\\n      E.Emp_id,\\n      E.Emp_Code,\\n      E.Name,\\n      FORMAT(DateCTE.Date, 'MMMM') AS Month,\\n      DATEPART(YEAR, DateCTE.Date) AS Year,\\n      DateCTE.Date AS Date,\\n      CASE \\n        WHEN A.attendance = 'Present' THEN 'Present'\\n        WHEN A.attendance = 'Absent' THEN 'Absent'\\n        WHEN H.Holiday IS NOT NULL THEN 'Holiday'\\n        WHEN L.leave_id IS NOT NULL AND L.Status = 'Approved' THEN 'Leave'\\n        ELSE NULL\\n      END AS attendance,\\n      D.dep_id,\\n      D.Department\\n    FROM\\n      Emp_Details E\\n    JOIN\\n      Department_mst D ON E.dep_id = D.dep_id\\n    JOIN\\n      DateCTE ON DateCTE.Date BETWEEN @startDate AND @endDate\\n    LEFT JOIN\\n      Attendance A ON E.Emp_id = A.Emp_id AND DateCTE.Date = A.Date\\n    LEFT JOIN\\n      Holidays H ON DateCTE.Date = H.Holiday\\n    LEFT JOIN\\n      Leave_mst L ON E.Emp_id = L.Emp_id AND DateCTE.Date BETWEEN L.LeaveFrom AND L.LeaveTo\\n    WHERE\\n     E.Emp_id=@Emp_id\\n    ORDER BY E.Emp_id, DateCTE.Date, Month, D.Department\\n    OPTION (MAXRECURSION 0);\\n    \\n    \";\n          _context9.next = 6;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            startDate: startDate,\n            endDate: endDate,\n            Emp_id: Emp_id\n          });\n        case 6:\n          result = _context9.sent;\n          if (!(result.recordset && result.recordset.length > 0)) {\n            _context9.next = 16;\n            break;\n          }\n          attendanceData = result.recordset.reduce(function (acc, record) {\n            var date = record.Date.toISOString().split('T')[0];\n            if (!acc[record.Emp_id]) {\n              acc[record.Emp_id] = {\n                Emp_id: record.Emp_id,\n                Emp_Code: record.Emp_Code,\n                Name: record.Name,\n                Department: record.Department,\n                month: []\n              };\n            }\n            var currentMonth = acc[record.Emp_id].month[acc[record.Emp_id].month.length - 1];\n            var monthYear = {\n              Month: record.Month,\n              Year: record.Year\n            };\n            if (!currentMonth || currentMonth.Month !== record.Month || currentMonth.Year !== record.Year) {\n              acc[record.Emp_id].month.push(_objectSpread(_objectSpread({}, monthYear), {}, {\n                attendance: []\n              }));\n            }\n            var attendanceEntry = {\n              Date: date,\n              attendance: record.attendance\n            };\n            acc[record.Emp_id].month[acc[record.Emp_id].month.length - 1].attendance.push(attendanceEntry);\n            return acc;\n          }, {});\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = '';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = Object.values(attendanceData);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 16:\n          return _context9.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '404', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'No attendance records found in the specified date range.'));\n        case 17:\n          _context9.next = 22;\n          break;\n        case 19:\n          _context9.prev = 19;\n          _context9.t0 = _context9[\"catch\"](2);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context9.t0);\n        case 22:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[2, 19]]);\n  }));\n  return function attendance(_x18, _x19, _x20) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/attendence.controller.js?");

/***/ }),

/***/ "./src/Controllers/company.controller.js":
/*!***********************************************!*\
  !*** ./src/Controllers/company.controller.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddCompany: () => (/* binding */ AddCompany),\n/* harmony export */   EditCompany: () => (/* binding */ EditCompany),\n/* harmony export */   GetCompanyData: () => (/* binding */ GetCompanyData)\n/* harmony export */ });\n/* harmony import */ var _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ApiResult.js */ \"./src/utils/ApiResult.js\");\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\n/* harmony import */ var _utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/checkduplicate.js */ \"./src/utils/checkduplicate.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\nvar GetCompanyData = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var query, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          query = \"select * from company_mst\";\n          _context.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query);\n        case 4:\n          result = _context.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = '';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context.t0);\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 12]]);\n  }));\n  return function GetCompanyData(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar AddCompany = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var _req$body, Company_Name, Address1, Address2, City, Pincode, Telephone_No, Email, Website, Comp_ShortName, Remarks, Logo_File, Bank_Details, Legal_Name, GSTIN, PAN, isDuplicateEdit, query, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _req$body = req.body, Company_Name = _req$body.Company_Name, Address1 = _req$body.Address1, Address2 = _req$body.Address2, City = _req$body.City, Pincode = _req$body.Pincode, Telephone_No = _req$body.Telephone_No, Email = _req$body.Email, Website = _req$body.Website, Comp_ShortName = _req$body.Comp_ShortName, Remarks = _req$body.Remarks, Logo_File = _req$body.Logo_File, Bank_Details = _req$body.Bank_Details, Legal_Name = _req$body.Legal_Name, GSTIN = _req$body.GSTIN, PAN = _req$body.PAN;\n          console.log(req.body);\n          if (!(!Company_Name || !Comp_ShortName || !Email)) {\n            _context2.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Company_Name,Comp_ShortName,Email can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 9:\n          _context2.next = 11;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_3__.checkDuplicate)('company_mst', ['Company_Name', 'Comp_ShortName'], [Company_Name, Comp_ShortName]);\n        case 11:\n          isDuplicateEdit = _context2.sent;\n          if (!isDuplicateEdit) {\n            _context2.next = 18;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Company_Name or Comp_ShortName already existes';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 18:\n          query = \" INSERT INTO company_mst (Company_Name, Address1, Address2, City, Pincode, Telephone_No, Email, Website, \\n      GSTIN, PAN, Comp_ShortName, Remarks, Bank_Details, Logo_File, Legal_Name) \\n      VALUES (@Company_Name, @Address1, @Address2, @City, @Pincode, @Telephone_No, @Email, @Website, \\n      @GSTIN, @PAN, @Comp_ShortName, @Remarks, @Bank_Details, @Logo_File, @Legal_Name)\";\n          _context2.next = 21;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Company_Name: Company_Name,\n            Address1: Address1,\n            Address2: Address2,\n            City: City,\n            Pincode: Pincode,\n            Telephone_No: Telephone_No,\n            Email: Email,\n            Website: Website,\n            Comp_ShortName: Comp_ShortName,\n            Remarks: Remarks,\n            Logo_File: Logo_File,\n            Bank_Details: Bank_Details,\n            Legal_Name: Legal_Name,\n            PAN: PAN,\n            GSTIN: GSTIN\n          });\n        case 21:\n          result = _context2.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Company Added Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 29:\n          _context2.prev = 29;\n          _context2.t0 = _context2[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context2.t0);\n        case 32:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 29]]);\n  }));\n  return function AddCompany(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar EditCompany = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var Company_Id, _req$body2, Company_Name, Address1, Address2, City, Pincode, Telephone_No, Email, Website, Comp_ShortName, Remarks, Logo_File, Bank_Details, Legal_Name, GSTIN, PAN, isDuplicateEdit, query;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          Company_Id = req.params.Company_Id;\n          _req$body2 = req.body, Company_Name = _req$body2.Company_Name, Address1 = _req$body2.Address1, Address2 = _req$body2.Address2, City = _req$body2.City, Pincode = _req$body2.Pincode, Telephone_No = _req$body2.Telephone_No, Email = _req$body2.Email, Website = _req$body2.Website, Comp_ShortName = _req$body2.Comp_ShortName, Remarks = _req$body2.Remarks, Logo_File = _req$body2.Logo_File, Bank_Details = _req$body2.Bank_Details, Legal_Name = _req$body2.Legal_Name, GSTIN = _req$body2.GSTIN, PAN = _req$body2.PAN;\n          if (!(!Company_Name || !Comp_ShortName || !Email)) {\n            _context3.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Company_Name,Comp_ShortName,Email can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 9:\n          _context3.next = 11;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_3__.checkDuplicate)('company_mst', ['Company_Name', 'Comp_ShortName', 'Company_Id'], [Company_Name, Comp_ShortName, Company_Id], 'Company_Id');\n        case 11:\n          isDuplicateEdit = _context3.sent;\n          if (!isDuplicateEdit) {\n            _context3.next = 18;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Company_Name or Comp_ShortName already existes';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 18:\n          query = \"UPDATE company_mst SET Company_Name = @Company_Name, Address1 = @Address1, Address2 = @Address2, City = @City, \\n      Pincode = @Pincode, Telephone_No = @Telephone_No, Email = @Email, Website = @Website, \\n      GSTIN = @GSTIN, PAN = @PAN, Comp_ShortName = @Comp_ShortName, Remarks = @Remarks, \\n      Bank_Details = @Bank_Details, Logo_File = @Logo_File, Legal_Name = @Legal_Name WHERE Company_Id = @Company_Id\";\n          _context3.next = 21;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Company_Name: Company_Name,\n            Address1: Address1,\n            Address2: Address2,\n            City: City,\n            Pincode: Pincode,\n            Telephone_No: Telephone_No,\n            Email: Email,\n            Website: Website,\n            Comp_ShortName: Comp_ShortName,\n            Remarks: Remarks,\n            Logo_File: Logo_File,\n            Bank_Details: Bank_Details,\n            Legal_Name: Legal_Name,\n            GSTIN: GSTIN,\n            PAN: PAN,\n            Company_Id: Company_Id\n          });\n        case 21:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Company Updated Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 28:\n          _context3.prev = 28;\n          _context3.t0 = _context3[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context3.t0);\n        case 31:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 28]]);\n  }));\n  return function EditCompany(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/company.controller.js?");

/***/ }),

/***/ "./src/Controllers/dashboard.controllers.js":
/*!**************************************************!*\
  !*** ./src/Controllers/dashboard.controllers.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DashboardMenu: () => (/* binding */ DashboardMenu),\n/* harmony export */   EmployeeDashboard: () => (/* binding */ EmployeeDashboard)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar DashboardMenu = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var User_ID, role, query, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          User_ID = req.user.User_ID;\n          console.log(\"in dashboard\", User_ID);\n          role = req.query.role;\n          query = \"SELECT * FROM Menues WHERE RoleID = 1\";\n          _context.next = 7;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Role: role\n          });\n        case 7:\n          result = _context.sent;\n          if (!(result.recordset.length > 0)) {\n            _context.next = 15;\n            break;\n          }\n          express__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          express__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          express__WEBPACK_IMPORTED_MODULE_0__.response.message = '', express__WEBPACK_IMPORTED_MODULE_0__.response.data = result.recordset;\n          return _context.abrupt(\"return\", res.json(express__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 15:\n          express__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '404';\n          express__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          express__WEBPACK_IMPORTED_MODULE_0__.response.message = 'No menu items found for the specified role';\n          express__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          return _context.abrupt(\"return\", res.json(express__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 20:\n          _context.next = 25;\n          break;\n        case 22:\n          _context.prev = 22;\n          _context.t0 = _context[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context.t0);\n        case 25:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 22]]);\n  }));\n  return function DashboardMenu(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar EmployeeDashboard = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var role, query, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          role = req.query.role;\n          query = \"SELECT * FROM Menues WHERE RoleID = 4\";\n          _context2.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Role: role\n          });\n        case 5:\n          result = _context2.sent;\n          if (!(result.recordset.length > 0)) {\n            _context2.next = 13;\n            break;\n          }\n          express__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          express__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          express__WEBPACK_IMPORTED_MODULE_0__.response.message = '', express__WEBPACK_IMPORTED_MODULE_0__.response.data = result.recordset;\n          return _context2.abrupt(\"return\", res.json(express__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 13:\n          express__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '404';\n          express__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          express__WEBPACK_IMPORTED_MODULE_0__.response.message = 'No menu items found for the specified role';\n          express__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          return _context2.abrupt(\"return\", res.json(express__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 18:\n          _context2.next = 23;\n          break;\n        case 20:\n          _context2.prev = 20;\n          _context2.t0 = _context2[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context2.t0);\n        case 23:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 20]]);\n  }));\n  return function EmployeeDashboard(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/dashboard.controllers.js?");

/***/ }),

/***/ "./src/Controllers/department.controllers.js":
/*!***************************************************!*\
  !*** ./src/Controllers/department.controllers.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddDepartment: () => (/* binding */ AddDepartment),\n/* harmony export */   AddDesignation: () => (/* binding */ AddDesignation),\n/* harmony export */   DeleteDepartment: () => (/* binding */ DeleteDepartment),\n/* harmony export */   DeleteDesignation: () => (/* binding */ DeleteDesignation),\n/* harmony export */   EditDepartment: () => (/* binding */ EditDepartment),\n/* harmony export */   EditDesignation: () => (/* binding */ EditDesignation),\n/* harmony export */   GetDepartmentInfo: () => (/* binding */ GetDepartmentInfo),\n/* harmony export */   GetDesignationInfo: () => (/* binding */ GetDesignationInfo),\n/* harmony export */   totalDep: () => (/* binding */ totalDep)\n/* harmony export */ });\n/* harmony import */ var _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ApiResult.js */ \"./src/utils/ApiResult.js\");\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\n/* harmony import */ var checkduplicationmodule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! checkduplicationmodule */ \"checkduplicationmodule\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n// import { checkDuplicate } from '../utils/checkduplicate.js'\n// import {checkDuplicate,heyy}   from 'checkduplicationmodule';\n\nvar checkDuplicate = checkduplicationmodule__WEBPACK_IMPORTED_MODULE_3__.checkDuplicate;\nvar GetDepartmentInfo = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var query, result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          query = 'select * from Department_mst';\n          _context.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query);\n        case 4:\n          result = _context.sent;\n          // console.log( req.User_ID)\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = '';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = '';\n          return _context.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context.t0);\n        case 16:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 13]]);\n  }));\n  return function GetDepartmentInfo(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar AddDepartment = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var _req$body, Department, Short_Name, Description, isDuplicated, query, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _req$body = req.body, Department = _req$body.Department, Short_Name = _req$body.Short_Name, Description = _req$body.Description;\n          if (!(!Department || !Short_Name)) {\n            _context2.next = 8;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Department and Short_Name cannot be blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 8:\n          _context2.next = 10;\n          return checkDuplicate('Department_mst', ['Department', 'Short_Name'], [Department, Short_Name]);\n        case 10:\n          isDuplicated = _context2.sent;\n          if (!isDuplicated) {\n            _context2.next = 17;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Department Already Exists ';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = false;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 17:\n          query = 'insert into Department_mst(Department,Short_Name,Description)values(@Department,@Short_Name,@Description)';\n          _context2.next = 20;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Department: Department,\n            Short_Name: Short_Name,\n            Description: Description\n          });\n        case 20:\n          result = _context2.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Department Added successfully ';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 28:\n          _context2.prev = 28;\n          _context2.t0 = _context2[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context2.t0);\n        case 31:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 28]]);\n  }));\n  return function AddDepartment(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar EditDepartment = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var _req$body2, Department, Short_Name, Description, dep_id, isDuplicateEdit, updateQuery, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _req$body2 = req.body, Department = _req$body2.Department, Short_Name = _req$body2.Short_Name, Description = _req$body2.Description;\n          dep_id = req.params.dep_id;\n          if (!(!Department || !Short_Name)) {\n            _context3.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Department and Short_Name cannot be blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 9:\n          _context3.next = 11;\n          return checkDuplicate('Department_mst', ['Department', 'Short_Name', 'dep_id'], [Department, Short_Name, dep_id], 'dep_id');\n        case 11:\n          isDuplicateEdit = _context3.sent;\n          if (!isDuplicateEdit) {\n            _context3.next = 18;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Department Already Exists ';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = false;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 18:\n          updateQuery = 'update Department_mst set Department=@Department, Short_Name=@Short_Name, Description=@Description where dep_id=@dep_id';\n          _context3.next = 21;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(updateQuery, {\n            Department: Department,\n            Short_Name: Short_Name,\n            Description: Description,\n            dep_id: parseInt(dep_id, 10)\n          });\n        case 21:\n          result = _context3.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Department Information updated successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 29:\n          _context3.prev = 29;\n          _context3.t0 = _context3[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context3.t0);\n        case 32:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 29]]);\n  }));\n  return function EditDepartment(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar DeleteDepartment = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var dep_id, checkQuery, checkResult, deleteQuery, deleteResult;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          dep_id = req.params.dep_id;\n          checkQuery = 'SELECT COUNT(*) AS recordCount FROM Emp_Details WHERE dep_id = @dep_id';\n          _context4.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(checkQuery, {\n            dep_id: dep_id\n          });\n        case 5:\n          checkResult = _context4.sent;\n          if (!(checkResult.recordset[0].recordCount > 0)) {\n            _context4.next = 12;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Cannot delete Department with related records in Emp_Details ';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 12:\n          deleteQuery = 'DELETE FROM Department_mst WHERE dep_id = @dep_id';\n          _context4.next = 15;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(deleteQuery, {\n            dep_id: dep_id\n          });\n        case 15:\n          deleteResult = _context4.sent;\n          if (!(deleteResult.rowsAffected[0] > 0)) {\n            _context4.next = 24;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '201';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Deleted successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 24:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Department not found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 29:\n          _context4.next = 34;\n          break;\n        case 31:\n          _context4.prev = 31;\n          _context4.t0 = _context4[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context4.t0);\n        case 34:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 31]]);\n  }));\n  return function DeleteDepartment(_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar totalDep = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var query, result;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          query = 'select count(*) as totalDep from Department_mst';\n          _context5.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query);\n        case 4:\n          result = _context5.sent;\n          if (!(result.recordset.length > 0)) {\n            _context5.next = 13;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '201';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = result.recordset[0];\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = '';\n          return _context5.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 13:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'No Department Found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n        case 17:\n          _context5.next = 22;\n          break;\n        case 19:\n          _context5.prev = 19;\n          _context5.t0 = _context5[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context5.t0);\n        case 22:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 19]]);\n  }));\n  return function totalDep(_x13, _x14) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar GetDesignationInfo = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var Designation_id, query, result;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          Designation_id = req.params.Designation_id;\n          query = 'select * from Designation_mst';\n          if (Designation_id != null) {\n            query += \" where Designation_id=@Designation_id\";\n          }\n          _context6.next = 6;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Designation_id: Designation_id\n          });\n        case 6:\n          result = _context6.sent;\n          console.log(query);\n          // console.log( req.User_ID)\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = '';\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 15:\n          _context6.prev = 15;\n          _context6.t0 = _context6[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context6.t0);\n        case 18:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 15]]);\n  }));\n  return function GetDesignationInfo(_x15, _x16, _x17) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar AddDesignation = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res, next) {\n    var Designation, isDuplicated, query, result;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          Designation = req.body.Designation;\n          if (Designation) {\n            _context7.next = 8;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Designation  cannot be blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context7.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 8:\n          _context7.next = 10;\n          return checkDuplicate('Designation_mst', ['Designation'], [Designation]);\n        case 10:\n          isDuplicated = _context7.sent;\n          if (!isDuplicated) {\n            _context7.next = 17;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Designation Already Exists';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context7.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 17:\n          query = 'insert into Designation_mst(Designation)values(@Designation)';\n          _context7.next = 20;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(query, {\n            Designation: Designation\n          });\n        case 20:\n          result = _context7.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Designation Added successfully ';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          return _context7.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 28:\n          _context7.prev = 28;\n          _context7.t0 = _context7[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context7.t0);\n        case 31:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[0, 28]]);\n  }));\n  return function AddDesignation(_x18, _x19, _x20) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar EditDesignation = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res, next) {\n    var Designation, Designation_id, isDuplicateEdit, updateQuery, result;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          Designation = req.body.Designation;\n          Designation_id = req.params.Designation_id;\n          if (Designation) {\n            _context8.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Designation  cannot be blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context8.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 9:\n          _context8.next = 11;\n          return checkDuplicate('Designation_mst', ['Designation', 'Designation_id'], [Designation, Designation_id], 'Designation_id');\n        case 11:\n          isDuplicateEdit = _context8.sent;\n          if (!isDuplicateEdit) {\n            _context8.next = 18;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Designation Already Exists';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context8.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 18:\n          updateQuery = 'update Designation_mst set Designation=@Designation where Designation_id=@Designation_id';\n          _context8.next = 21;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(updateQuery, {\n            Designation: Designation,\n            Designation_id: Designation_id\n          });\n        case 21:\n          result = _context8.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Designation Information updated successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          return _context8.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 29:\n          _context8.prev = 29;\n          _context8.t0 = _context8[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context8.t0);\n        case 32:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 29]]);\n  }));\n  return function EditDesignation(_x21, _x22, _x23) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar DeleteDesignation = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res, next) {\n    var Designation_id, checkQuery, checkResult, deleteQuery, deleteResult;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          Designation_id = req.params.Designation_id;\n          checkQuery = 'SELECT COUNT(*) AS recordCount FROM Emp_Details WHERE Designation_id = @Designation_id';\n          _context9.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(checkQuery, {\n            Designation_id: Designation_id\n          });\n        case 5:\n          checkResult = _context9.sent;\n          if (!(checkResult.recordset[0].recordCount > 0)) {\n            _context9.next = 12;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Cannot delete Designation with related records in Emp_Details';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 12:\n          deleteQuery = 'DELETE FROM Designation_mst WHERE Designation_id = @Designation_id';\n          _context9.next = 15;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_1__.BindData)(deleteQuery, {\n            Designation_id: Designation_id\n          });\n        case 15:\n          deleteResult = _context9.sent;\n          if (!(deleteResult.rowsAffected[0] > 0)) {\n            _context9.next = 24;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Deleted successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 24:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.message = 'Designation not found';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response.isAuth = true;\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_0__.response));\n        case 29:\n          _context9.next = 35;\n          break;\n        case 31:\n          _context9.prev = 31;\n          _context9.t0 = _context9[\"catch\"](0);\n          console.error('Error:', _context9.t0);\n          return _context9.abrupt(\"return\", res.status(500).json({\n            statusCode: '500',\n            message: 'Internal server error',\n            isAuth: true,\n            data: null\n          }));\n        case 35:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 31]]);\n  }));\n  return function DeleteDesignation(_x24, _x25, _x26) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/department.controllers.js?");

/***/ }),

/***/ "./src/Controllers/payroll.controller.js":
/*!***********************************************!*\
  !*** ./src/Controllers/payroll.controller.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addSlipData: () => (/* binding */ addSlipData),\n/* harmony export */   paySlipList: () => (/* binding */ paySlipList)\n/* harmony export */ });\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\n/* harmony import */ var _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiResult.js */ \"./src/utils/ApiResult.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar addSlipData = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body, Emp_id, TargetMonth, TargetYear, monthNumber, yearNumber, queryUnpaidDays, unpaidDaysResult, unpaidDays, queryPaidDays, paidDaysResult, paidDays, queryBaseSalary, baseSalaryResult, BaseSalary, totalDaysInMonth, perDaySalary, deductions, newBaseSalary, queryInsertSalary;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, Emp_id = _req$body.Emp_id, TargetMonth = _req$body.TargetMonth, TargetYear = _req$body.TargetYear;\n          _context.prev = 1;\n          // Convert TargetMonth and TargetYear to numbers\n          monthNumber = parseInt(TargetMonth, 10);\n          yearNumber = parseInt(TargetYear, 10); // Query to get unpaid days\n          queryUnpaidDays = \"\\n      SELECT COUNT(*) AS unpaid_days\\n      FROM Attendance\\n      WHERE Emp_id = @Emp_id\\n        AND attendance IN ('Absent', 'Leave')\\n        AND MONTH(Date) = MONTH(@TargetMonth)\\n        AND YEAR(Date) = YEAR(@TargetYear);\\n    \";\n          _context.next = 7;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(queryUnpaidDays, {\n            Emp_id: Emp_id,\n            TargetMonth: TargetMonth,\n            TargetYear: TargetYear\n          });\n        case 7:\n          unpaidDaysResult = _context.sent;\n          unpaidDays = unpaidDaysResult.recordset[0].unpaid_days; // Query to get paid days\n          queryPaidDays = \"\\n      SELECT COUNT(*) AS paid_days\\n      FROM Attendance\\n      WHERE Emp_id = @Emp_id\\n        AND attendance = 'Present'\\n        AND MONTH(Date) = MONTH(@TargetMonth)\\n        AND YEAR(Date) = YEAR(@TargetYear);\\n    \";\n          _context.next = 12;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(queryPaidDays, {\n            Emp_id: Emp_id,\n            TargetMonth: TargetMonth,\n            TargetYear: TargetYear\n          });\n        case 12:\n          paidDaysResult = _context.sent;\n          paidDays = paidDaysResult.recordset[0].paid_days; // Query to get BaseSalary\n          queryBaseSalary = \"\\n      SELECT BaseSalary\\n      FROM Emp_Details\\n      WHERE Emp_id = @Emp_id;\\n    \";\n          _context.next = 17;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(queryBaseSalary, {\n            Emp_id: Emp_id\n          });\n        case 17:\n          baseSalaryResult = _context.sent;\n          BaseSalary = baseSalaryResult.recordset[0].BaseSalary;\n          console.log('BaseSalary', BaseSalary);\n\n          // Calculate perDaySalary, newBaseSalary, and deductions\n          totalDaysInMonth = new Date(yearNumber, monthNumber, 0).getDate();\n          console.log('totalDaysInMonth', totalDaysInMonth);\n          if (!(BaseSalary !== null && BaseSalary !== undefined)) {\n            _context.next = 39;\n            break;\n          }\n          perDaySalary = BaseSalary / totalDaysInMonth;\n          console.log('perdaysalary', perDaySalary);\n          deductions = unpaidDays * perDaySalary;\n          console.log('deductions', deductions);\n          newBaseSalary = BaseSalary - deductions;\n          console.log('newBaseSalary', newBaseSalary);\n\n          // Insert values into Salary table\n          queryInsertSalary = \"\\n        INSERT INTO Salary (Emp_id, PaidDays, UnpaidDays, PerDaySalary, newBaseSalary, Deductions)\\n        VALUES (@Emp_id, @paidDays, @unpaidDays, @perDaySalary, @newBaseSalary, @deductions);\\n      \";\n          _context.next = 32;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(queryInsertSalary, {\n            Emp_id: Emp_id,\n            paidDays: paidDays,\n            unpaidDays: unpaidDays,\n            perDaySalary: perDaySalary,\n            newBaseSalary: newBaseSalary,\n            deductions: deductions\n          });\n        case 32:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'inserted successfully.';\n          return _context.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 39:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = 'BaseSalary is null or undefined.';\n          return _context.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 44:\n          _context.next = 49;\n          break;\n        case 46:\n          _context.prev = 46;\n          _context.t0 = _context[\"catch\"](1);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_1__.returnerror.message = 'internal server error' + _context.t0);\n        case 49:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 46]]);\n  }));\n  return function addSlipData(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar paySlipList = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var salaryId, query, paySlipList;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          salaryId = req.query.salaryId;\n          query = 'select * from salary where 1=1';\n          if (salaryId) {\n            query += ' And salaryId=@salaryId';\n          }\n          // const paySlipList = await BindData(query)\n          _context2.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            salaryId: salaryId\n          });\n        case 5:\n          paySlipList = _context2.sent;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.data = paySlipList.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response.message = null;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_2__.response));\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function paySlipList(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n// app.get('/export-excel/:salaryId', async (req, res) => {\n//   try {\n//     const result = await BindData(\"select * from salary salaryId=@salaryId\",{salaryId})\n//     const workbook = new excel.Workbook();\n//     const worksheet = workbook.addWorksheet('Data');\n\n//     // columns of the table \n//     worksheet.columns = [\n//       { header: 'BaseSalary', key: 'newBaseSalary' },\n//       { header: 'PerDaySalary', key: 'PerDaySalary' },\n//       { header: 'UnpaidDays', key: 'UnpaidDays' },\n//       { header: 'PaidDays', key: 'PaidDays' },\n//       { header: 'Name', key: 'Name' },\n\n//     ];\n\n//     // Add data from the database\n//     worksheet.addRows(result.recordset);\n\n//     // Set headers \n//     res.setHeader(\n//       'Content-Type',\n//       'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n//     );\n//     res.setHeader('Content-Disposition', 'attachment; filename=data.xlsx');\n\n//     // Send the Excel file\n//     workbook.xlsx.write(res).then(() => {\n//       res.end();\n//     });\n//   } catch (error) {\n//     console.error('Error while exporting data to Excel', error);\n//     res.status(500).json({ error: 'Internal server error' });\n//   }\n// });\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/payroll.controller.js?");

/***/ }),

/***/ "./src/Controllers/user.controllers.js":
/*!*********************************************!*\
  !*** ./src/Controllers/user.controllers.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddUser: () => (/* binding */ AddUser),\n/* harmony export */   AllEmpAttendance: () => (/* binding */ AllEmpAttendance),\n/* harmony export */   ApprovedLeave: () => (/* binding */ ApprovedLeave),\n/* harmony export */   ChangeUserStatus: () => (/* binding */ ChangeUserStatus),\n/* harmony export */   CurrentActiveUsers: () => (/* binding */ CurrentActiveUsers),\n/* harmony export */   CurrentLeaveStatus: () => (/* binding */ CurrentLeaveStatus),\n/* harmony export */   DeleteUser: () => (/* binding */ DeleteUser),\n/* harmony export */   EditUser: () => (/* binding */ EditUser),\n/* harmony export */   GetAllUsers: () => (/* binding */ GetAllUsers),\n/* harmony export */   LoggedIn: () => (/* binding */ LoggedIn),\n/* harmony export */   SignUp: () => (/* binding */ SignUp),\n/* harmony export */   getadmin: () => (/* binding */ getadmin),\n/* harmony export */   profileImageAdmin: () => (/* binding */ profileImageAdmin),\n/* harmony export */   showPendingLeave: () => (/* binding */ showPendingLeave),\n/* harmony export */   totalAdmin: () => (/* binding */ totalAdmin),\n/* harmony export */   updateAdmin: () => (/* binding */ updateAdmin),\n/* harmony export */   userLogin: () => (/* binding */ userLogin)\n/* harmony export */ });\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\n/* harmony import */ var _models_user_model_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/user.model.js */ \"./src/models/user.model.js\");\n/* harmony import */ var _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\n/* harmony import */ var _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ApiResult.js */ \"./src/utils/ApiResult.js\");\n/* harmony import */ var _utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/checkduplicate.js */ \"./src/utils/checkduplicate.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! crypto-js */ \"crypto-js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! fs */ \"fs\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\n\n// import { ApiResponse } from '../utils/ApiResult.js'\n// import { readFileSync, existsSync } from 'fs';\n// import readConfig from '../../readConfig.js';\n// import updateEnv from '../../updateEnv.js';\n// import path from 'path';\n\n// const __filename = fileURLToPath(import.meta.url);\n// const __dirname = path.dirname(__filename);\n\n// const configFilePath = path.join(__dirname, '../../config.json');\n// const envFilePath = path.join(__dirname, '../../.env');\n// const copiedConfigFilePath = path.join(__dirname, '../../dist/config.json');\n\n// const configValues = readConfig(configFilePath);\n\n// // Check if config.json exists before reading and copying\n// updateEnv(configValues, envFilePath, configFilePath);\n\n// // Read the copied config file\n// const copiedConfigValues = readConfig(copiedConfigFilePath);\n\nvar GetAllUsers = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var query, result, users;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          query = \"select U.RoleID,U.User_ID,U.username,U.Email,U.password ,R.RoleName,U.image ,U.status from Users_mst U\\n   join Roles_R R ON  U.RoleID=R.RoleID \";\n          _context.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query);\n        case 4:\n          result = _context.sent;\n          if (!(result.recordset.length > 0)) {\n            _context.next = 12;\n            break;\n          }\n          users = result.recordset.map(function (user) {\n            try {\n              var decryptedPassword = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.decrypt(user.password, 'SecretKey');\n              var isValidUTF8 = decryptedPassword.toString(crypto_js__WEBPACK_IMPORTED_MODULE_8__.enc.Utf8);\n              if (!isValidUTF8) {\n                console.warn('Invalid UTF-8 data for user:', user);\n                return user;\n              }\n              var passwordString = decryptedPassword.toString(crypto_js__WEBPACK_IMPORTED_MODULE_8__.enc.Utf8);\n              user.password = passwordString;\n            } catch (decryptError) {\n              console.error('Error decrypting password:', decryptError);\n            }\n            return user;\n          });\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = users;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 12:\n          _context.next = 17;\n          break;\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](0);\n          res.json({\n            statusCode: '500',\n            message: 'Internal server error' + _context.t0\n          });\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 14]]);\n  }));\n  return function GetAllUsers(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar EditUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var User_ID, _req$body, username, password, status, RoleID, Email, isDuplicate, hashpassword, query, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          User_ID = req.params.User_ID;\n          _req$body = req.body, username = _req$body.username, password = _req$body.password, status = _req$body.status, RoleID = _req$body.RoleID, Email = _req$body.Email;\n          console.log(req.body);\n          if (!(!username || !Email || !RoleID)) {\n            _context2.next = 10;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'username,Email,RoleName can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 10:\n          _context2.next = 12;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_4__.checkDuplicate)('Users_mst', ['username', 'Email', 'User_ID'], [username, Email, User_ID], 'User_ID');\n        case 12:\n          isDuplicate = _context2.sent;\n          if (!isDuplicate) {\n            _context2.next = 20;\n            break;\n          }\n          console.log('isDuplicate:', isDuplicate);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'USername Already Exists with Same Email';\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          hashpassword = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.encrypt(password, 'SecretKey').toString();\n          query = \"\\n      UPDATE Users_mst\\n      SET\\n        username = @username,\\n        Email = @Email,\\n        status= @status,\\n        password=@hashpassword,\\n        RoleID=@RoleID\\n      WHERE User_ID = @User_ID\\n    \";\n          _context2.next = 24;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            User_ID: User_ID,\n            username: username,\n            hashpassword: hashpassword,\n            status: status,\n            RoleID: RoleID,\n            Email: Email\n          });\n        case 24:\n          result = _context2.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context2.next = 31;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Users Updated Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context2.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 31:\n          _context2.next = 36;\n          break;\n        case 33:\n          _context2.prev = 33;\n          _context2.t0 = _context2[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context2.t0);\n        case 36:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 33]]);\n  }));\n  return function EditUser(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar DeleteUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var User_ID, query, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          User_ID = req.params.User_ID;\n          query = 'delete from Users_mst where User_ID=@User_ID';\n          _context3.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            User_ID: User_ID\n          });\n        case 5:\n          result = _context3.sent;\n          if (!(result.rowsAffected[0] > 0)) {\n            _context3.next = 14;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Users Deleted Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 14:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Users not found';\n          return _context3.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          _context3.next = 24;\n          break;\n        case 21:\n          _context3.prev = 21;\n          _context3.t0 = _context3[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context3.t0);\n        case 24:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 21]]);\n  }));\n  return function DeleteUser(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar AddUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var _req$body2, username, password, status, RoleID, Email, isDuplicate, hashpassword, query, result;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _req$body2 = req.body, username = _req$body2.username, password = _req$body2.password, status = _req$body2.status, RoleID = _req$body2.RoleID, Email = _req$body2.Email;\n          console.log(req.body);\n          if (!(!username || !Email || !RoleID)) {\n            _context4.next = 9;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'username,Email,RoleName can not blank or null';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 9:\n          _context4.next = 11;\n          return (0,_utils_checkduplicate_js__WEBPACK_IMPORTED_MODULE_4__.checkDuplicate)('Users_mst', ['username', 'Email'], [username, Email]);\n        case 11:\n          isDuplicate = _context4.sent;\n          if (!isDuplicate) {\n            _context4.next = 19;\n            break;\n          }\n          console.log('isDuplicate:', isDuplicate);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'USername Already Exists with Same Email';\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          hashpassword = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.encrypt(password, 'SecretKey').toString();\n          query = \"\\n      INSERT INTO Users_mst\\n      (username, Email, RoleID, status, password)\\n      VALUES\\n      (@username, @Email, @RoleID, 1, @hashpassword)\\n    \";\n          _context4.next = 23;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            username: username,\n            hashpassword: hashpassword,\n            status: status,\n            RoleID: RoleID,\n            Email: Email\n          });\n        case 23:\n          result = _context4.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context4.next = 30;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'USer Added Successfully';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context4.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 30:\n          _context4.next = 35;\n          break;\n        case 32:\n          _context4.prev = 32;\n          _context4.t0 = _context4[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context4.t0);\n        case 35:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 32]]);\n  }));\n  return function AddUser(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar ChangeUserStatus = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var User_ID, status, newStatus, query, result;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          User_ID = req.params.User_ID;\n          status = req.body.status;\n          newStatus = status === 0 ? 1 : 0;\n          query = 'UPDATE Users_mst SET status = @newStatus WHERE User_ID = @User_ID';\n          _context5.next = 7;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            User_ID: User_ID,\n            newStatus: newStatus\n          });\n        case 7:\n          result = _context5.sent;\n          if (result.rowsAffected.length > 0) {\n            res.status(200).json('Updated successfully');\n          } else {\n            res.status(400).json({\n              message: 'User not found or status unchanged.'\n            });\n          }\n          _context5.next = 15;\n          break;\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](0);\n          console.error('Error: ' + _context5.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 11]]);\n  }));\n  return function ChangeUserStatus(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar SignUp = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var userInput, Email, password, username, checkUserQuery, existingUser, hashpassword, query, result;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          userInput = new _models_user_model_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](req.body);\n          Email = userInput.Email;\n          password = userInput.password;\n          username = userInput.username;\n          if (![username, password, Email].some(function (feild) {\n            return (feild === null || feild === void 0 ? void 0 : feild.trim()) === '';\n          })) {\n            _context6.next = 11;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'All Fields Are Required';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 11:\n          checkUserQuery = 'SELECT * FROM Users_mst WHERE Email = @Email OR username = @username';\n          _context6.next = 14;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(checkUserQuery, {\n            Email: Email,\n            username: username\n          });\n        case 14:\n          existingUser = _context6.sent;\n          if (!(existingUser.recordset.length > 0)) {\n            _context6.next = 21;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '400';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'User Already Exists';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 21:\n          hashpassword = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.encrypt(password, 'SecretKey').toString();\n          query = 'insert into Users_mst(Email,password,username,RoleID) values(@Email,@hashpassword,@username,3)';\n          _context6.next = 25;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            Email: Email,\n            hashpassword: hashpassword,\n            username: username,\n            password: password\n          });\n        case 25:\n          result = _context6.sent;\n          if (!(result.rowsAffected[0] && result.rowsAffected[0] > 0)) {\n            _context6.next = 32;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'User Register successfully';\n          return _context6.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 32:\n          _context6.next = 37;\n          break;\n        case 34:\n          _context6.prev = 34;\n          _context6.t0 = _context6[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context6.t0);\n        case 37:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 34]]);\n  }));\n  return function SignUp(_x11, _x12, _x13) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar LoggedIn = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res, next) {\n    var userInput, emailOrUsername, password, userRole, isEmail, query, result, user, matchPassword, permissions, token;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userInput = new _models_user_model_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](req.body);\n          _context7.prev = 1;\n          emailOrUsername = userInput.emailOrUsername;\n          password = userInput.password;\n          userRole = req.body.userRole;\n          isEmail = emailOrUsername.includes('@gmail.com');\n          query = isEmail ? 'SELECT U.*, R.RoleName, R.RoleID FROM Users_mst U JOIN Roles_R R ON U.RoleID = R.RoleID WHERE U.email=@emailOrUsername' : 'SELECT U.*, R.RoleName, R.RoleID FROM Users_mst U JOIN Roles_R R ON U.RoleID = R.RoleID WHERE U.username=@emailOrUsername';\n          _context7.next = 9;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            emailOrUsername: emailOrUsername\n          });\n        case 9:\n          result = _context7.sent;\n          user = result.recordset[0]; // console.log(user)\n          if (user) {\n            _context7.next = 13;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '403', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'USer Not Found'));\n        case 13:\n          if (!(user.status !== 1)) {\n            _context7.next = 15;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '403', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'User is not active. Please contact the administrator.'));\n        case 15:\n          matchPassword = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.decrypt(user.password, 'SecretKey').toString(crypto_js__WEBPACK_IMPORTED_MODULE_8__.enc.Utf8);\n          if (!(matchPassword !== password)) {\n            _context7.next = 18;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '403', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'Password Not Matched'));\n        case 18:\n          console.log(user.RoleName, userRole);\n          if (!(user.RoleName !== userRole)) {\n            _context7.next = 21;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '403', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'Role not Matched'));\n        case 21:\n          _context7.next = 23;\n          return getRolePermissions(userRole);\n        case 23:\n          permissions = _context7.sent;\n          token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__.sign({\n            User_ID: user.User_ID,\n            Role: user.RoleName,\n            Permissions: permissions\n          }, 'secretkey');\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            token: token,\n            permissions: permissions\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'You are logged in';\n          return _context7.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 32:\n          _context7.prev = 32;\n          _context7.t0 = _context7[\"catch\"](1);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context7.t0);\n        case 35:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[1, 32]]);\n  }));\n  return function LoggedIn(_x14, _x15, _x16) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n// const LoggedIn = async (req, res, next) => {\n//   const userInput = new UserModel(req.body);\n//   try {\n//     const emailOrUsername = userInput.emailOrUsername;\n//     const password = userInput.password;\n//     const userRole = req.body.userRole;\n\n//     const isEmail = emailOrUsername.includes('@gmail.com');\n//     const query = isEmail\n//       ? 'SELECT U.*, R.RoleName, R.RoleID FROM Users_mst U JOIN Roles_R R ON U.RoleID = R.RoleID WHERE U.email=@emailOrUsername'\n//       : 'SELECT U.*, R.RoleName, R.RoleID FROM Users_mst U JOIN Roles_R R ON U.RoleID = R.RoleID WHERE U.username=@emailOrUsername';\n\n//     const result = await BindData(query, { emailOrUsername });\n//     const user = result.recordset[0];\n\n//     if (!user) {\n//       return res.json({\n//         statusCode: '403',\n//         message: 'User Not Found'\n//       });\n//     }\n//     const matchPassword = CryptoJS.AES.decrypt(\n//       user.password,\n//       'SecretKey'\n//     ).toString(CryptoJS.enc.Utf8)\n\n//     if (!matchPassword) {\n//       return res.json({\n//         statusCode: '403',\n//         message: 'Password Not Matched'\n//       });\n//     }\n// console.log(userRole)\n//     if (user.RoleName !== userRole) {\n//       return res.json({\n//         statusCode: '403',\n//         message: 'Role not Matched'\n//       });\n//     }\n//     console.log(user.User_ID)\n//     if (!user.User_ID) {\n//       return res.json({\n//         statusCode: '500',\n//         message: 'User ID is null or undefined'\n//       });\n//     }\n\n//     const permissions = await getRolePermissions(userRole);\n\n//     const refreshToken = Jwt.sign({ User_ID: user.User_ID, Role: user.RoleName },process.env.jwt_Secret, { expiresIn: '7d' });\n\n//     const accessToken = Jwt.sign(\n//       { User_ID: user.User_ID, Role: user.RoleName, Permissions: permissions },\n//       process.env.jwt_Secret,\n//       { expiresIn: '15m' }\n//     );\n\n//     await saveRefreshToken(user.User_ID, refreshToken);\n\n//     return res.json({\n//       statusCode: '200',\n//       isAuth: true,\n//       data: { accessToken, refreshToken, permissions },\n//       message: 'You are logged in'\n//     });\n//   } catch (error) {\n//     console.error(error);\n//     return res.json({\n//       statusCode: '500',\n//       message: 'Internal Server Error'\n//     });\n//   }\n// };\n\n// const saveRefreshToken = async (User_ID, refreshToken) => {\n//   try {\n//     const query='INSERT INTO RefreshTokensz (User_ID, Token) VALUES (@User_ID, @Token)'\n\n//     await BindData(query, { User_ID:User_ID , Token: refreshToken });\n//   } catch (error) {\n//     console.error('Error saving refresh token:', error);\n//     throw error;\n//   }\n// };\nfunction getRolePermissions(_x17) {\n  return _getRolePermissions.apply(this, arguments);\n}\nfunction _getRolePermissions() {\n  _getRolePermissions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(userRole) {\n    var query, result, permissions;\n    return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n      while (1) switch (_context18.prev = _context18.next) {\n        case 0:\n          _context18.prev = 0;\n          query = \"\\n  SELECT\\n    RM.operation_id,\\n    CO.operation_name,\\n    CO.can_create,\\n    CO.can_read,\\n    CO.can_update,\\n    CO.can_delete,\\n    M.Menu_id,\\n    M.Menu_Name,\\n    M.Menu_URL\\n  FROM\\n    RoleMenu RM\\n  JOIN\\n    CrudOperations CO ON RM.operation_id = CO.operation_id\\n  JOIN\\n    Menues M ON RM.Menu_id = M.Menu_id\\n  WHERE\\n    RM.RoleID = (SELECT RoleID FROM Roles_R WHERE RoleName = @userRole)\\n\";\n          _context18.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            userRole: userRole\n          });\n        case 4:\n          result = _context18.sent;\n          if (!(result.recordset.length > 0)) {\n            _context18.next = 10;\n            break;\n          }\n          permissions = result.recordset.map(function (per) {\n            return {\n              operation_name: per.operation_name,\n              can_create: per.can_create,\n              can_read: per.can_read,\n              can_update: per.can_update,\n              can_delete: per.can_delete,\n              Menu_id: per.Menu_id,\n              Menu_Name: per.Menu_Name,\n              Menu_URL: per.Menu_URL\n            };\n          });\n          return _context18.abrupt(\"return\", permissions);\n        case 10:\n          return _context18.abrupt(\"return\", []);\n        case 11:\n          _context18.next = 16;\n          break;\n        case 13:\n          _context18.prev = 13;\n          _context18.t0 = _context18[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context18.t0);\n        case 16:\n        case \"end\":\n          return _context18.stop();\n      }\n    }, _callee18, null, [[0, 13]]);\n  }));\n  return _getRolePermissions.apply(this, arguments);\n}\nvar totalAdmin = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var query, result;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          query = 'select count(*) as totalAdmin from  Users_mst where RoleID=1';\n          _context8.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query);\n        case 4:\n          result = _context8.sent;\n          if (!(result.recordset.length > 0)) {\n            _context8.next = 13;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context8.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 13:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'no admin Found';\n          return _context8.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 18:\n          _context8.next = 23;\n          break;\n        case 20:\n          _context8.prev = 20;\n          _context8.t0 = _context8[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context8.t0);\n        case 23:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 20]]);\n  }));\n  return function totalAdmin(_x18, _x19) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar showPendingLeave = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var query, fetchResult, result;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          query = \"\\n    SELECT\\n      ED.Emp_Code,\\n      ED.Name,\\n      DM.department, \\n      DesM.Designation, \\n      LM.leave_id,\\n      LM.leaveFrom,\\n      LM.LeaveTo,\\n      LM.Days,\\n      LM.Reason,\\n      LM.Status,\\n      LM.CreatedAt,\\n      LM.Remarks\\n    FROM\\n      Leave_mst LM\\n    LEFT JOIN\\n      Emp_Details ED ON LM.Emp_id = ED.Emp_id\\n    LEFT JOIN\\n      Department_mst DM ON ED.dep_id = DM.dep_id\\n    LEFT JOIN\\n      Designation_mst DesM ON ED.Designation_id = DesM.Designation_id\\n    WHERE\\n      LM.Status IN ('Pending', 'Approved', 'Reject')\"; // console.log('Executing query:', query);\n          _context9.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query);\n        case 4:\n          fetchResult = _context9.sent;\n          if (!(fetchResult.recordset.length === 0)) {\n            _context9.next = 13;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Leave not found';\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 13:\n          result = fetchResult.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = result;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context9.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          _context9.next = 24;\n          break;\n        case 21:\n          _context9.prev = 21;\n          _context9.t0 = _context9[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context9.t0);\n        case 24:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 21]]);\n  }));\n  return function showPendingLeave(_x20, _x21) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar ApprovedLeave = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    var leave_id, _req$body3, status, Remarks, User_ID, query, result, _response;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.prev = 0;\n          leave_id = req.params.leave_id;\n          _req$body3 = req.body, status = _req$body3.status, Remarks = _req$body3.Remarks;\n          User_ID = req.user.User_ID;\n          console.log(\"htt\", req.body);\n          console.log(\"hgyu\", User_ID);\n          query = \"\\n      UPDATE Leave_mst\\n      SET Status = @status,\\n      Remarks = @Remarks,\\n      User_ID = @User_ID\\n      WHERE leave_id = @leave_id\\n    \";\n          _context10.next = 9;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            leave_id: leave_id,\n            status: status,\n            Remarks: Remarks,\n            User_ID: User_ID\n          });\n        case 9:\n          result = _context10.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context10.next = 15;\n            break;\n          }\n          _response = {\n            statusCode: '200',\n            isAuth: true,\n            data: result.User_ID,\n            message: 'Leave status updated successfully'\n          };\n          return _context10.abrupt(\"return\", res.json(_response));\n        case 15:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Leave not found or status not updated';\n          return _context10.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          _context10.next = 25;\n          break;\n        case 22:\n          _context10.prev = 22;\n          _context10.t0 = _context10[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context10.t0);\n        case 25:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[0, 22]]);\n  }));\n  return function ApprovedLeave(_x22, _x23) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar getadmin = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res) {\n    var User_ID, query, result, user, password;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.prev = 0;\n          // const Role = 'Admin'\n          User_ID = req.user.User_ID;\n          query = \"select U.username,U.Email,U.password ,U.image,R.RoleName from Users_mst U\\n    join Roles_R R ON  U.RoleID=R.RoleID where User_ID=@User_ID\";\n          _context11.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            User_ID: User_ID\n          });\n        case 5:\n          result = _context11.sent;\n          if (!(result.recordset.length > 0)) {\n            _context11.next = 15;\n            break;\n          }\n          user = result.recordset[0];\n          password = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.decrypt(user.password, 'SecretKey').toString(crypto_js__WEBPACK_IMPORTED_MODULE_8__.enc.Utf8);\n          user.password = password;\n          // console.log('Query:', query);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = result.recordset;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context11.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 15:\n          _context11.next = 20;\n          break;\n        case 17:\n          _context11.prev = 17;\n          _context11.t0 = _context11[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context11.t0);\n        case 20:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[0, 17]]);\n  }));\n  return function getadmin(_x24, _x25) {\n    return _ref11.apply(this, arguments);\n  };\n}();\n\nvar updateAdmin = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res) {\n    var User_ID, _req$body4, username, Email, password, hashpassword, updateQuery, result;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.prev = 0;\n          User_ID = req.user.User_ID;\n          _req$body4 = req.body, username = _req$body4.username, Email = _req$body4.Email, password = _req$body4.password;\n          console.log('Update request body:', req.body);\n\n          // const hashpassword = bcryptjs.hashSync(password, 10);\n          hashpassword = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.encrypt(password, 'SecretKey').toString();\n          updateQuery = \"\\n      UPDATE Users_mst\\n      SET username = @username, Email = @Email, password = @hashpassword\\n      WHERE User_ID = @User_ID\\n    \";\n          _context12.next = 8;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(updateQuery, {\n            User_ID: User_ID,\n            username: username,\n            hashpassword: hashpassword,\n            Email: Email\n          });\n        case 8:\n          result = _context12.sent;\n          console.log('Update result:', result);\n          if (!(result.rowsAffected > 0)) {\n            _context12.next = 16;\n            break;\n          }\n          // Successfully updated\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'User details updated successfully';\n          return _context12.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 16:\n          _context12.next = 22;\n          break;\n        case 18:\n          _context12.prev = 18;\n          _context12.t0 = _context12[\"catch\"](0);\n          // Handle errors\n          console.error('Error updating user details:', _context12.t0);\n          return _context12.abrupt(\"return\", res.status(500).json({\n            statusCode: '500',\n            message: 'Internal server error',\n            error: _context12.t0.message\n          }));\n        case 22:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12, null, [[0, 18]]);\n  }));\n  return function updateAdmin(_x26, _x27) {\n    return _ref12.apply(this, arguments);\n  };\n}();\n\nvar profileImageAdmin = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req, res) {\n    var User_ID, image, imageUrl, existingImagePathQuery, existingImagePathResult, existingImagePath, updateQuery, result;\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.prev = 0;\n          User_ID = req.user.User_ID;\n          image = req.body.image;\n          imageUrl = req.file ? req.file.filename : null; // console.log('Image URL:', imageUrl);\n          existingImagePathQuery = 'SELECT image FROM Users_mst WHERE User_ID = @User_ID';\n          _context13.next = 7;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(existingImagePathQuery, {\n            User_ID: User_ID\n          });\n        case 7:\n          existingImagePathResult = _context13.sent;\n          if (existingImagePathResult.recordset.length > 0) {\n            existingImagePath = existingImagePathResult.recordset[0].image; // console.log('Existing Image Path:', existingImagePath);\n            if (fs__WEBPACK_IMPORTED_MODULE_9__.existsSync(existingImagePath)) {\n              fs__WEBPACK_IMPORTED_MODULE_9__.unlink(existingImagePath, function (err) {\n                if (err) {\n                  console.error('Error deleting previous image:', err);\n                } else {\n                  console.log('Previous image deleted successfully');\n                }\n              });\n            }\n          }\n          updateQuery = \"\\n      UPDATE Users_mst\\n      SET\\n        image = @image\\n      WHERE User_ID = @User_ID\\n    \";\n          _context13.next = 12;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(updateQuery, {\n            User_ID: User_ID,\n            image: imageUrl\n          });\n        case 12:\n          result = _context13.sent;\n          if (!(result.rowsAffected > 0)) {\n            _context13.next = 19;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'Employee Updated Successfully';\n          return _context13.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          _context13.next = 24;\n          break;\n        case 21:\n          _context13.prev = 21;\n          _context13.t0 = _context13[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context13.t0);\n        case 24:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13, null, [[0, 21]]);\n  }));\n  return function profileImageAdmin(_x28, _x29) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nvar AllEmpAttendance = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req, res, next) {\n    var _req$params, startDate, endDate, _req$query, Emp_id, Department, Emp_Code, Name, whereClause, query, result, attendanceData;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          _req$params = req.params, startDate = _req$params.startDate, endDate = _req$params.endDate;\n          _req$query = req.query, Emp_id = _req$query.Emp_id, Department = _req$query.Department, Emp_Code = _req$query.Emp_Code, Name = _req$query.Name;\n          _context14.prev = 2;\n          whereClause = '';\n          if (Emp_id) {\n            whereClause += ' AND E.Emp_id = @Emp_id';\n          } else if (Department) {\n            whereClause += ' AND D.Department = @Department';\n          } else if (Emp_Code) {\n            whereClause += ' AND E.Emp_Code = @Emp_Code';\n          } else if (Name) {\n            whereClause += ' AND E.Name=@Name';\n          }\n          query = \"\\n    WITH DateCTE AS (\\n      SELECT CAST(@startDate AS DATE) AS Date\\n      UNION ALL\\n      SELECT DATEADD(DAY, 1, Date)\\n      FROM DateCTE\\n      WHERE Date < @endDate\\n    )\\n    \\n    \\n    SELECT\\n      E.Emp_id,\\n      E.Emp_Code,\\n      E.Name,\\n      FORMAT(DateCTE.Date, 'MMMM') AS Month,\\n      DATEPART(YEAR, DateCTE.Date) AS Year,\\n      DateCTE.Date AS Date,\\n      CASE \\n        WHEN A.attendance = 'Present' THEN 'Present'\\n        WHEN A.attendance = 'Absent' THEN 'Absent'\\n        WHEN H.Holiday IS NOT NULL THEN 'Holiday'\\n        WHEN L.leave_id IS NOT NULL AND L.Status = 'Approved' THEN 'Leave'\\n        ELSE NULL\\n      END AS attendance,\\n      D.dep_id,\\n      D.Department\\n    FROM\\n      Emp_Details E\\n    JOIN\\n      Department_mst D ON E.dep_id = D.dep_id\\n    JOIN\\n      DateCTE ON DateCTE.Date BETWEEN @startDate AND @endDate\\n    LEFT JOIN\\n      Attendance A ON E.Emp_id = A.Emp_id AND DateCTE.Date = A.Date\\n    LEFT JOIN\\n      Holidays H ON DateCTE.Date = H.Holiday\\n    LEFT JOIN\\n      Leave_mst L ON E.Emp_id = L.Emp_id AND DateCTE.Date BETWEEN L.LeaveFrom AND L.LeaveTo\\n    WHERE\\n      1 = 1\\n      \".concat(whereClause, \"\\n    ORDER BY E.Emp_id, DateCTE.Date, Month, D.Department\\n    OPTION (MAXRECURSION 0);\\n    \\n    \");\n          _context14.next = 8;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            startDate: startDate,\n            endDate: endDate,\n            Emp_id: Emp_id,\n            Department: Department,\n            Emp_Code: Emp_Code,\n            Name: Name\n          });\n        case 8:\n          result = _context14.sent;\n          if (!(result.recordset && result.recordset.length > 0)) {\n            _context14.next = 18;\n            break;\n          }\n          attendanceData = result.recordset.reduce(function (acc, record) {\n            var date = record.Date.toISOString().split('T')[0];\n            if (!acc[record.Emp_id]) {\n              acc[record.Emp_id] = {\n                Emp_id: record.Emp_id,\n                Emp_Code: record.Emp_Code,\n                Name: record.Name,\n                Department: record.Department,\n                month: []\n              };\n            }\n            var currentMonth = acc[record.Emp_id].month[acc[record.Emp_id].month.length - 1];\n            var monthYear = {\n              Month: record.Month,\n              Year: record.Year\n            };\n            if (!currentMonth || currentMonth.Month !== record.Month || currentMonth.Year !== record.Year) {\n              acc[record.Emp_id].month.push(_objectSpread(_objectSpread({}, monthYear), {}, {\n                attendance: []\n              }));\n            }\n            var attendanceEntry = {\n              Date: date,\n              attendance: record.attendance\n            };\n            acc[record.Emp_id].month[acc[record.Emp_id].month.length - 1].attendance.push(attendanceEntry);\n            return acc;\n          }, {});\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = Object.values(attendanceData);\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          return _context14.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 18:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No attendance records found in the specified date range.';\n          return _context14.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 23:\n          _context14.next = 28;\n          break;\n        case 25:\n          _context14.prev = 25;\n          _context14.t0 = _context14[\"catch\"](2);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context14.t0);\n        case 28:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14, null, [[2, 25]]);\n  }));\n  return function AllEmpAttendance(_x30, _x31, _x32) {\n    return _ref14.apply(this, arguments);\n  };\n}();\nvar CurrentLeaveStatus = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(req, res) {\n    var CreatedAt, query, result, _CurrentLeaveStatus;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.prev = 0;\n          CreatedAt = new Date().toISOString().split('T')[0];\n          query = \"\\n    SELECT \\n        COUNT(*) AS CurrentLeaveStatus\\n      FROM \\n        Leave_mst\\n      WHERE \\n        Status IN ('Pending', 'Approved', 'Reject')\\n        AND CreatedAt = @CreatedAt;\\n    \";\n          _context15.next = 5;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            CreatedAt: CreatedAt\n          });\n        case 5:\n          result = _context15.sent;\n          if (!(result.recordset.length > 0)) {\n            _context15.next = 15;\n            break;\n          }\n          _CurrentLeaveStatus = result.recordset[0].CurrentLeaveStatus;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            CurrentLeaveStatus: _CurrentLeaveStatus\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context15.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 15:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No Leave found for the current date';\n          return _context15.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 20:\n          _context15.next = 25;\n          break;\n        case 22:\n          _context15.prev = 22;\n          _context15.t0 = _context15[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context15.t0);\n        case 25:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15, null, [[0, 22]]);\n  }));\n  return function CurrentLeaveStatus(_x33, _x34) {\n    return _ref15.apply(this, arguments);\n  };\n}();\nvar CurrentActiveUsers = /*#__PURE__*/function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(req, res) {\n    var query, result, _CurrentActiveUsers;\n    return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n      while (1) switch (_context16.prev = _context16.next) {\n        case 0:\n          _context16.prev = 0;\n          query = \"\\n    SELECT \\n        COUNT(*) AS CurrentActiveUsers\\n      FROM \\n        Users_mst\\n      WHERE \\n        status=1\\n    \";\n          _context16.next = 4;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query);\n        case 4:\n          result = _context16.sent;\n          if (!(result.recordset.length > 0)) {\n            _context16.next = 14;\n            break;\n          }\n          _CurrentActiveUsers = result.recordset[0].CurrentActiveUsers;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '200';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = {\n            CurrentActiveUsers: _CurrentActiveUsers\n          };\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = '';\n          return _context16.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 14:\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '404';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = true;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'No Leave found for the current date';\n          return _context16.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 19:\n          _context16.next = 24;\n          break;\n        case 21:\n          _context16.prev = 21;\n          _context16.t0 = _context16[\"catch\"](0);\n          res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '500', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'internal server error' + _context16.t0);\n        case 24:\n        case \"end\":\n          return _context16.stop();\n      }\n    }, _callee16, null, [[0, 21]]);\n  }));\n  return function CurrentActiveUsers(_x35, _x36) {\n    return _ref16.apply(this, arguments);\n  };\n}();\nvar userLogin = /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(req, res, next) {\n    var userInput, emailOrUsername, password, userRole, isEmail, query, result, user, matchPassword, permissions, token;\n    return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n      while (1) switch (_context17.prev = _context17.next) {\n        case 0:\n          userInput = new _models_user_model_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](req.body);\n          _context17.prev = 1;\n          emailOrUsername = userInput.emailOrUsername;\n          password = userInput.password;\n          userRole = req.body.userRole;\n          isEmail = emailOrUsername.includes('@gmail.com');\n          query = isEmail ? 'SELECT U.*, R.RoleName, R.RoleID FROM Users_mst U JOIN Roles_R R ON U.RoleID = R.RoleID WHERE U.email=@emailOrUsername' : 'SELECT U.*, R.RoleName, R.RoleID FROM Users_mst U JOIN Roles_R R ON U.RoleID = R.RoleID WHERE U.username=@emailOrUsername';\n          _context17.next = 9;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, {\n            emailOrUsername: emailOrUsername\n          });\n        case 9:\n          result = _context17.sent;\n          user = result.recordset[0];\n          console.log(user);\n          if (user) {\n            _context17.next = 14;\n            break;\n          }\n          return _context17.abrupt(\"return\", res.json(_utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.statusCode = '403', _utils_ApiError_js__WEBPACK_IMPORTED_MODULE_2__.returnerror.message = 'USer Not Found'));\n        case 14:\n          matchPassword = crypto_js__WEBPACK_IMPORTED_MODULE_8__.AES.decrypt(user.password, 'SecretKey').toString(crypto_js__WEBPACK_IMPORTED_MODULE_8__.enc.Utf8);\n          if (!(matchPassword !== password)) {\n            _context17.next = 21;\n            break;\n          }\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.statusCode = '403';\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.isAuth = false;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.data = null;\n          _utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response.message = 'password not matched';\n          return _context17.abrupt(\"return\", res.json(_utils_ApiResult_js__WEBPACK_IMPORTED_MODULE_3__.response));\n        case 21:\n          _context17.next = 23;\n          return getRolePermissions(userRole);\n        case 23:\n          permissions = _context17.sent;\n          token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__.sign({\n            User_ID: user.User_ID,\n            Role: user.RoleName,\n            Permissions: permissions\n          }, 'secretkey');\n          res.status(200).json('user login successfully');\n          // response.statusCode = '200'\n          // response.isAuth = true\n          // response.data = { token }\n          // response.message = 'You are logged in'\n          // return res.json(response)\n          _context17.next = 31;\n          break;\n        case 28:\n          _context17.prev = 28;\n          _context17.t0 = _context17[\"catch\"](1);\n          res.status(500).json({\n            statusCode: '500',\n            message: 'Internal server error: ' + _context17.t0\n          });\n        case 31:\n        case \"end\":\n          return _context17.stop();\n      }\n    }, _callee17, null, [[1, 28]]);\n  }));\n  return function userLogin(_x37, _x38, _x39) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/Controllers/user.controllers.js?");

/***/ }),

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: () => (/* binding */ app)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _router_user_routes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./router/user.routes.js */ \"./src/router/user.routes.js\");\n/* harmony import */ var _router_company_routes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./router/company.routes.js */ \"./src/router/company.routes.js\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var _router_department_routes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./router/department.routes.js */ \"./src/router/department.routes.js\");\n/* harmony import */ var _router_employee_routes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./router/employee.routes.js */ \"./src/router/employee.routes.js\");\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cookie-parser */ \"cookie-parser\");\n/* harmony import */ var _router_attendence_routes_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./router/attendence.routes.js */ \"./src/router/attendence.routes.js\");\n/* harmony import */ var _router_dashboard_routes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./router/dashboard.routes.js */ \"./src/router/dashboard.routes.js\");\n/* harmony import */ var _router_payroll_routes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./router/payroll.routes.js */ \"./src/router/payroll.routes.js\");\n/* harmony import */ var _router_role_routes_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./router/role.routes.js */ \"./src/router/role.routes.js\");\n\n\n\n\n\n\n\n\n\n\n\nvar app = express__WEBPACK_IMPORTED_MODULE_0__();\napp.use(cors__WEBPACK_IMPORTED_MODULE_3__({\n  origin: '*',\n  credentials: true\n}));\napp.use(express__WEBPACK_IMPORTED_MODULE_0__.json());\napp.use(express__WEBPACK_IMPORTED_MODULE_0__.urlencoded({\n  extended: true\n}));\napp.use('/', _router_user_routes_js__WEBPACK_IMPORTED_MODULE_1__.router);\napp.use('/company', _router_company_routes_js__WEBPACK_IMPORTED_MODULE_2__.companyRouter);\napp.use('/department', _router_department_routes_js__WEBPACK_IMPORTED_MODULE_4__.depRouter);\napp.use('/emp', _router_employee_routes_js__WEBPACK_IMPORTED_MODULE_5__.Emp_Router);\napp.use('/attendence', _router_attendence_routes_js__WEBPACK_IMPORTED_MODULE_7__.Attendence_Router);\napp.use('/dashboard', _router_dashboard_routes_js__WEBPACK_IMPORTED_MODULE_8__.dashboardRoute);\napp.use('/salary', _router_payroll_routes_js__WEBPACK_IMPORTED_MODULE_9__.salaryRouter);\napp.use('/role', _router_role_routes_js__WEBPACK_IMPORTED_MODULE_10__.Role_Router);\napp.use('/images', express__WEBPACK_IMPORTED_MODULE_0__[\"static\"]('public/images'));\napp.use(cookie_parser__WEBPACK_IMPORTED_MODULE_6__());\n\n\n//# sourceURL=webpack://attendense_management_api/./src/app.js?");

/***/ }),

/***/ "./src/db/config.js":
/*!**************************!*\
  !*** ./src/db/config.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config)\n/* harmony export */ });\n// import { fileURLToPath } from 'url';\n// import { dirname } from 'path';\n// import { readFileSync, existsSync, writeFileSync } from 'fs'; // Updated imports\n// import readConfig from '../../readConfig.js';\n// import updateEnv from '../../updateEnv.js';\n// import path from 'path';\n\n// const __filename = fileURLToPath(import.meta.url);\n// const __dirname = dirname(__filename);\n\n// const configFilePath = path.join(__dirname, '../../config.json');\n// const envFilePath = path.join(__dirname, '../../.env'); \n// const configValues = readConfig(configFilePath);\n\n// updateEnv(configValues, envFilePath);\n\n// const config = {\n//     server: configValues.Database_Server,\n//     user: configValues.Database_User,\n//     password: configValues.Database_Password,\n//     database: configValues.Database,\n//     options: {\n//         trustedConnection: true,\n//         trustServerCertificate: true,\n//         encrypt: false,\n//         requestTimeout: 80000,\n//     },\n//     pool: {\n//         max: 10,\n//         min: 0,\n//         idleTimeoutMillis: 30000,\n//     },\n// };\n\n// export { config };\n// / config.js\n// config.js\n// config.js (continuation)\n\n// import path from 'path';\n// import dotenv from 'dotenv';\n// import { fileURLToPath } from 'url';\n// import { dirname } from 'path';\n// import updateEnv from '../../updateEnv.js';\n\n// const __filename = fileURLToPath(import.meta.url);\n// const __dirname = path.dirname(__filename);\n\n// const rootDir = path.join(__dirname, '../../');\n\n// const envFilePath = path.join(rootDir, '.env');\n// console.log('Loading environment variables from:', envFilePath);\n\n// dotenv.config({ path: envFilePath });\nvar config = {\n  server: \"192.168.1.55\",\n  user: \"sa\",\n  password: \"1\",\n  database: \"Payroll_System\",\n  options: {\n    trustedConnection: true,\n    trustServerCertificate: true,\n    encrypt: false,\n    requestTimeout: 80000\n  },\n  pool: {\n    max: 10,\n    min: 0,\n    idleTimeoutMillis: 30000\n  }\n};\nconsole.log('Config after build:', config);\n\n\n// -----------------------------------------------\n\n// import { fileURLToPath } from 'url';\n// import { readFileSync, existsSync } from 'fs';\n// import readConfig from '../../readConfig.js';\n// import updateEnv from '../../updateEnv.js';\n// import path from 'path';\n\n// const __filename = fileURLToPath(import.meta.url);\n// const __dirname = path.dirname(__filename);\n\n// const distFolder = path.join(__dirname, '../../dist');  // Provide the path to the dist folder\n// const envFilePath = path.join(__dirname, '../../.env');\n\n// const configValues = readConfig(path.join(distFolder, 'config.json'));  // Updated path\n\n// // Check if config.json exists before reading and copying\n// updateEnv(configValues, envFilePath, distFolder);\n\n// // Read the copied config file\n// const copiedConfigValues = readConfig(path.join(distFolder, 'config.json'));  // Updated path\n\n// const config = {\n//     server: copiedConfigValues.Database_Server,\n//     user: copiedConfigValues.Database_User,\n//     password: copiedConfigValues.Database_Password,\n//     database: copiedConfigValues.Database,\n//     options: {\n//         trustedConnection: true,\n//         trustServerCertificate: true,\n//         encrypt: false,\n//         requestTimeout: 80000,\n//     },\n//     pool: {\n//         max: 10,\n//         min: 0,\n//         idleTimeoutMillis: 30000,\n//     },\n// };\n\n// export { config };\n\n//# sourceURL=webpack://attendense_management_api/./src/db/config.js?");

/***/ }),

/***/ "./src/db/connection.js":
/*!******************************!*\
  !*** ./src/db/connection.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BindData: () => (/* binding */ BindData)\n/* harmony export */ });\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mssql */ \"mssql\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ \"./src/db/config.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar pool = new mssql__WEBPACK_IMPORTED_MODULE_0__.ConnectionPool(_config_js__WEBPACK_IMPORTED_MODULE_1__.config);\nconsole.log(\"config values before build\", _config_js__WEBPACK_IMPORTED_MODULE_1__.config);\nfunction BindData(_x) {\n  return _BindData.apply(this, arguments);\n}\nfunction _BindData() {\n  _BindData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(SqlQuery) {\n    var obj,\n      request,\n      parameter,\n      result,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          obj = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          _context.prev = 1;\n          _context.next = 4;\n          return pool.connect();\n        case 4:\n          request = pool.request();\n          for (parameter in obj) {\n            request.input(parameter, obj[parameter]);\n          }\n          _context.next = 8;\n          return request.query(SqlQuery);\n        case 8:\n          result = _context.sent;\n          return _context.abrupt(\"return\", result);\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context[\"catch\"](1);\n          console.error(_context.t0);\n          throw _context.t0;\n        case 16:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 12]]);\n  }));\n  return _BindData.apply(this, arguments);\n}\n\n// // import sql from \"mssql\";\n// // import { config } from \"./config.js\";\n\n// // const pool = new sql.ConnectionPool(config);\n\n// // async function BindData(SqlQuery, obj = {}) {\n// //   try {\n// //     await pool.connect();\n\n// //     const request = pool.request();\n\n// //     Object.keys(obj).forEach((param) => {\n// //       if (Array.isArray(obj[param])) {\n// //         obj[param].forEach((value, index) => {\n// //           request.input(`${param}_${index}`, value);\n// //         });\n// //       } else {\n// //         request.input(param, obj[param]);\n// //       }\n// //     });\n\n// //     const result = await request.query(SqlQuery);\n\n// //     return result;\n// //   } catch (err) {\n// //     console.log(err);\n// //   }\n// // }\n\n// // export { BindData };\n\n// import sql from \"mssql\";\n// import { config } from \"./config.js\";\n\n// const pool = new sql.ConnectionPool(config);\n\n// async function BindData(SqlQuery, params = {}) {\n//   try {\n//     await pool.connect();\n//     const result = await pool.request().query(SqlQuery, params);\n//     return result;\n//   } catch (err) {\n//     console.error(err);\n//   }\n// }\n\n// export { BindData };\n\n//# sourceURL=webpack://attendense_management_api/./src/db/connection.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http */ \"http\");\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.js */ \"./src/app.js\");\n/* harmony import */ var kill_port__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kill-port */ \"kill-port\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ \"dotenv\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\nvar port = 1010;\nvar delayBeforeRestart = 1000;\ndotenv__WEBPACK_IMPORTED_MODULE_3__.config({\n  path: './env'\n});\nfunction startServer() {\n  return _startServer.apply(this, arguments);\n}\nfunction _startServer() {\n  _startServer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var server;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          server = (0,http__WEBPACK_IMPORTED_MODULE_0__.createServer)(_app_js__WEBPACK_IMPORTED_MODULE_1__.app);\n          server.listen(port, function () {\n            console.log(\"Server is running on http://localhost:\".concat(port));\n          });\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _startServer.apply(this, arguments);\n}\nfunction attemptPortKillAndStart() {\n  return _attemptPortKillAndStart.apply(this, arguments);\n}\nfunction _attemptPortKillAndStart() {\n  _attemptPortKillAndStart = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          console.log(\"Attempting to kill process on port \".concat(port));\n          _context2.next = 4;\n          return kill_port__WEBPACK_IMPORTED_MODULE_2__(port, 'TCP');\n        case 4:\n          console.log(\"Successfully killed process on port \".concat(port));\n          setTimeout(startServer, delayBeforeRestart);\n          _context2.next = 11;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error(\"Error during server restart:\", _context2.t0);\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 8]]);\n  }));\n  return _attemptPortKillAndStart.apply(this, arguments);\n}\nattemptPortKillAndStart();\n// import fs from 'fs';\n// import { createServer } from 'http';\n// import { app } from './app.js';\n// import kill from 'kill-port';\n// import dotenv from 'dotenv';\n\n// const port = 1010;\n// const delayBeforeRestart = 1000;\n\n// dotenv.config({\n//   path: './env',\n// });\n\n// // Function to read and parse the configuration file\n// function readConfig() {\n//   const configFilePath = './config.json'; // Update the path if needed\n//   const configContents = fs.readFileSync(configFilePath, 'utf8');\n//   return JSON.parse(configContents);\n// }\n\n// // Initial configuration\n// let config = readConfig();\n\n// // Function to start the server\n// async function startServer() {\n//   const server = createServer(app);\n\n//   server.listen(port, () => {\n//     console.log(`Server is running on http://localhost:${port}`);\n//   });\n\n//   // Handle graceful shutdown\n//   process.on('SIGTERM', () => {\n//     console.info('SIGTERM signal received. Closing server gracefully.');\n//     server.close(() => {\n//       console.log('Server closed. Exiting process.');\n//       process.exit(0);\n//     });\n//   });\n\n//   process.on('SIGINT', () => {\n//     console.info('SIGINT signal received. Closing server gracefully.');\n//     server.close(() => {\n//       console.log('Server closed. Exiting process.');\n//       process.exit(0);\n//     });\n//   });\n// }\n\n// // Function to attempt killing the port and start the server\n// async function attemptPortKillAndStart() {\n//   try {\n//     console.log(`Attempting to kill process on port ${port}`);\n//     await kill(port, 'TCP');\n//     console.log(`Successfully killed process on port ${port}`);\n\n//     // Update the configuration based on config.json contents\n//     config = readConfig();\n\n//     setTimeout(startServer, delayBeforeRestart);\n//   } catch (e) {\n//     console.error(`Error during server restart:`, e);\n//   }\n// }\n\n// // Watch for changes in the config file and reload configurations\n// fs.watchFile('./config.json', (curr, prev) => {\n//   console.log('Config file changed, reloading configurations.');\n//   attemptPortKillAndStart();\n// });\n\n// // Start the server initially\n// startServer();\n\n//# sourceURL=webpack://attendense_management_api/./src/index.js?");

/***/ }),

/***/ "./src/middlewares/authmiddleware.js":
/*!*******************************************!*\
  !*** ./src/middlewares/authmiddleware.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authMiddleware: () => (/* binding */ authMiddleware)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n\n\n\n\n// import readConfig from '../../readConfig.js';\n// import updateEnv from '../../updateEnv.js';\n// import path from 'path';\n\n// const __filename = fileURLToPath(import.meta.url);\n// const __dirname = path.dirname(__filename);\n\n// const configFilePath = path.join(__dirname, '../../config.json');\n// const envFilePath = path.join(__dirname, '../../.env');\n// const copiedConfigFilePath = path.join(__dirname, '../../dist/config.json');\n\n// const configValues = readConfig(configFilePath);\n\n// // Check if config.json exists before reading and copying\n// updateEnv(configValues, envFilePath, configFilePath);\n\n// // Read the copied config file\n// const copiedConfigValues = readConfig(copiedConfigFilePath);\nvar authMiddleware = function authMiddleware(req, res, next) {\n  try {\n    var token = req.headers.authorization;\n    if (!token) {\n      console.log('Unauthorized: Token is missing');\n      req.isAuth = false;\n      return res.status(401).json({\n        isAuth: false,\n        message: 'Unauthorized - Token is missing'\n      });\n    }\n    var noBearer = token.split(' ')[1];\n    if (!noBearer) {\n      console.log('Unauthorized: Token is invalid');\n      req.isAuth = false;\n      return res.status(401).json({\n        isAuth: false,\n        message: 'Unauthorized - Token is invalid'\n      });\n    }\n    var result = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify(noBearer, 'secretkey');\n    // req.User_ID = result.User_ID;\n    req.Emp_id = result.Emp_id;\n    req.user = result;\n    // console.log(result)\n    req.Role = result.Role;\n    next();\n  } catch (error) {\n    console.error('Token Verification Error:', error);\n    req.isAuth = false;\n    return res.status(401).json({\n      isAuth: false,\n      message: 'Unauthorized - Token is not valid'\n    });\n  }\n};\n\n\n//# sourceURL=webpack://attendense_management_api/./src/middlewares/authmiddleware.js?");

/***/ }),

/***/ "./src/middlewares/multur.moddleware.js":
/*!**********************************************!*\
  !*** ./src/middlewares/multur.moddleware.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   upload: () => (/* binding */ upload)\n/* harmony export */ });\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multer */ \"multer\");\n\nvar storage = multer__WEBPACK_IMPORTED_MODULE_0__.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './public/images');\n  },\n  filename: function filename(req, file, cb) {\n    cb(null, file.originalname);\n  }\n});\nvar upload = multer__WEBPACK_IMPORTED_MODULE_0__({\n  storage: storage\n});\n\n//# sourceURL=webpack://attendense_management_api/./src/middlewares/multur.moddleware.js?");

/***/ }),

/***/ "./src/models/user.model.js":
/*!**********************************!*\
  !*** ./src/models/user.model.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nvar UserModel = /*#__PURE__*/_createClass(function UserModel(_ref) {\n  var username = _ref.username,\n    password = _ref.password,\n    Email = _ref.Email,\n    emailOrUsername = _ref.emailOrUsername,\n    hashpassword = _ref.hashpassword;\n  _classCallCheck(this, UserModel);\n  this.username = username;\n  this.password = password;\n  this.Email = Email;\n  this.emailOrUsername = emailOrUsername;\n  this.hashpassword = hashpassword;\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserModel);\n\n//# sourceURL=webpack://attendense_management_api/./src/models/user.model.js?");

/***/ }),

/***/ "./src/router/attendence.routes.js":
/*!*****************************************!*\
  !*** ./src/router/attendence.routes.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Attendence_Router: () => (/* binding */ Attendence_Router)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/attendence.controller.js */ \"./src/Controllers/attendence.controller.js\");\n/* harmony import */ var _middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middlewares/authmiddleware.js */ \"./src/middlewares/authmiddleware.js\");\n\n\n\nvar Attendence_Router = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\nAttendence_Router.route('/recordattendence').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.recordAttendence);\nAttendence_Router.route('/PresentEmp').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.totalPresent);\nAttendence_Router.route('/AbsentEmp').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.totalAbsent);\nAttendence_Router.route('/EditAttendance/:Emp_id').put(_Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.EditAttendance);\nAttendence_Router.route('/holiday').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.Holidays);\nAttendence_Router.route('/empAttendnace/:startDate/:endDate').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.attendance);\nAttendence_Router.route('/GetHoliday').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.GetHoliday);\nAttendence_Router.route('/CountHoliday/:year').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_attendence_controller_js__WEBPACK_IMPORTED_MODULE_1__.CountHoliday);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/attendence.routes.js?");

/***/ }),

/***/ "./src/router/company.routes.js":
/*!**************************************!*\
  !*** ./src/router/company.routes.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   companyRouter: () => (/* binding */ companyRouter)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _Controllers_company_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/company.controller.js */ \"./src/Controllers/company.controller.js\");\n/* harmony import */ var _middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middlewares/authmiddleware.js */ \"./src/middlewares/authmiddleware.js\");\n\n\n\nvar companyRouter = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\ncompanyRouter.route('/').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_company_controller_js__WEBPACK_IMPORTED_MODULE_1__.GetCompanyData);\ncompanyRouter.route('/addcompany').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_company_controller_js__WEBPACK_IMPORTED_MODULE_1__.AddCompany);\ncompanyRouter.route('/EditCompany/:Company_Id').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_company_controller_js__WEBPACK_IMPORTED_MODULE_1__.EditCompany);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/company.routes.js?");

/***/ }),

/***/ "./src/router/dashboard.routes.js":
/*!****************************************!*\
  !*** ./src/router/dashboard.routes.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dashboardRoute: () => (/* binding */ dashboardRoute)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _Controllers_dashboard_controllers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/dashboard.controllers.js */ \"./src/Controllers/dashboard.controllers.js\");\n/* harmony import */ var _middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middlewares/authmiddleware.js */ \"./src/middlewares/authmiddleware.js\");\n\n\n\nvar dashboardRoute = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\ndashboardRoute.route('/dashboardMenue').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_dashboard_controllers_js__WEBPACK_IMPORTED_MODULE_1__.DashboardMenu);\ndashboardRoute.route('/EmpDashboard').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_dashboard_controllers_js__WEBPACK_IMPORTED_MODULE_1__.EmployeeDashboard);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/dashboard.routes.js?");

/***/ }),

/***/ "./src/router/department.routes.js":
/*!*****************************************!*\
  !*** ./src/router/department.routes.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   depRouter: () => (/* binding */ depRouter)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/department.controllers.js */ \"./src/Controllers/department.controllers.js\");\n/* harmony import */ var _middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middlewares/authmiddleware.js */ \"./src/middlewares/authmiddleware.js\");\n\n\n\nvar depRouter = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\ndepRouter.route('/dep').get(_Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.GetDepartmentInfo);\ndepRouter.route('/Adddep').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.AddDepartment);\ndepRouter.route('/EditDepartment/:dep_id').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.EditDepartment);\ndepRouter.route('/deleteDepartment/:dep_id')[\"delete\"](_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.DeleteDepartment);\ndepRouter.route('/totalDep').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.totalDep);\ndepRouter.route('/Designation/:Designation_id?').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.GetDesignationInfo);\ndepRouter.route('/AddDesignation').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.AddDesignation);\ndepRouter.route('/EditDesignation/:Designation_id').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.EditDesignation);\ndepRouter.route('/deleteDesignation/:Designation_id')[\"delete\"](_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_department_controllers_js__WEBPACK_IMPORTED_MODULE_1__.DeleteDesignation);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/department.routes.js?");

/***/ }),

/***/ "./src/router/employee.routes.js":
/*!***************************************!*\
  !*** ./src/router/employee.routes.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Emp_Router: () => (/* binding */ Emp_Router)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _middlewares_multur_moddleware_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middlewares/multur.moddleware.js */ \"./src/middlewares/multur.moddleware.js\");\n/* harmony import */ var _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Controllers/Employee.controllers.js */ \"./src/Controllers/Employee.controllers.js\");\n/* harmony import */ var _middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../middlewares/authmiddleware.js */ \"./src/middlewares/authmiddleware.js\");\n\n\n\n\nvar Emp_Router = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\nEmp_Router.route('/countEmp').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.totalEmp);\nEmp_Router.route('/totalsalary').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.totalsalary);\nEmp_Router.route('/logout').get(_Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.Logout);\nEmp_Router.route('/deleteEmp/:Emp_id')[\"delete\"](_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.Delete_Emp);\nEmp_Router.route('/AddEmp').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _middlewares_multur_moddleware_js__WEBPACK_IMPORTED_MODULE_1__.upload.single('image'), _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.AddEmployee);\nEmp_Router.route('/EditEmp/:Emp_id').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _middlewares_multur_moddleware_js__WEBPACK_IMPORTED_MODULE_1__.upload.single('image'), _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.EditEmployee);\nEmp_Router.route('/LoginEmp').post(_Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.Emp_LoggedIn);\nEmp_Router.route('/Emp_Leave').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.Emp_Leave);\nEmp_Router.route('/EmpTotalLeave').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.EmpTotalLeave);\nEmp_Router.route('/ApprovedLeave').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.ApprovedLeave);\nEmp_Router.route('/RejectedLeave').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.RejectedLeave);\nEmp_Router.route('/EmpAllLeaves').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.EmpAllLeaves);\nEmp_Router.route('/Emp_Details').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.List_Emp_Details);\nEmp_Router.route('/Profile_Emp').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.Profile_Emp);\nEmp_Router.route('/EditProfile_Emp').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.EditProfile_Emp);\nEmp_Router.route('/profileImage').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_3__.authMiddleware, _middlewares_multur_moddleware_js__WEBPACK_IMPORTED_MODULE_1__.upload.single('image'), _Controllers_Employee_controllers_js__WEBPACK_IMPORTED_MODULE_2__.profileImage);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/employee.routes.js?");

/***/ }),

/***/ "./src/router/payroll.routes.js":
/*!**************************************!*\
  !*** ./src/router/payroll.routes.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   salaryRouter: () => (/* binding */ salaryRouter)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _Controllers_payroll_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/payroll.controller.js */ \"./src/Controllers/payroll.controller.js\");\n\n// import { authMiddleware } from \"../middlewares/authmiddleware.js\";\n\nvar salaryRouter = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\nsalaryRouter.route('/addSlipData').post(_Controllers_payroll_controller_js__WEBPACK_IMPORTED_MODULE_1__.addSlipData);\nsalaryRouter.route('/paySlipList').get(_Controllers_payroll_controller_js__WEBPACK_IMPORTED_MODULE_1__.paySlipList);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/payroll.routes.js?");

/***/ }),

/***/ "./src/router/role.routes.js":
/*!***********************************!*\
  !*** ./src/router/role.routes.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Role_Router: () => (/* binding */ Role_Router)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _Controllers_Role_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/Role.controller.js */ \"./src/Controllers/Role.controller.js\");\n/* harmony import */ var _middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middlewares/authmiddleware.js */ \"./src/middlewares/authmiddleware.js\");\n\n\n\nvar Role_Router = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\nRole_Router.route('/GetAllRole').get(_Controllers_Role_controller_js__WEBPACK_IMPORTED_MODULE_1__.GetALLRole);\nRole_Router.route('/EditRole/:RoleID').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_Role_controller_js__WEBPACK_IMPORTED_MODULE_1__.EditRole);\nRole_Router.route('/AddRole').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_Role_controller_js__WEBPACK_IMPORTED_MODULE_1__.AddRole);\nRole_Router.route('/DeleteRole/:RoleID')[\"delete\"](_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_Role_controller_js__WEBPACK_IMPORTED_MODULE_1__.deleteRole);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/role.routes.js?");

/***/ }),

/***/ "./src/router/user.routes.js":
/*!***********************************!*\
  !*** ./src/router/user.routes.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   router: () => (/* binding */ router)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/user.controllers.js */ \"./src/Controllers/user.controllers.js\");\n/* harmony import */ var _middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middlewares/authmiddleware.js */ \"./src/middlewares/authmiddleware.js\");\n/* harmony import */ var _middlewares_multur_moddleware_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../middlewares/multur.moddleware.js */ \"./src/middlewares/multur.moddleware.js\");\n\n\n\n\nvar router = (0,express__WEBPACK_IMPORTED_MODULE_0__.Router)();\nrouter.route('/GetAllUsers').get(_Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.GetAllUsers);\nrouter.route('/SignUp').post(_Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.SignUp);\nrouter.route('/Login').post(_Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.LoggedIn);\nrouter.route('/totaladmin').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.totalAdmin);\nrouter.route('/getadmin').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.getadmin);\nrouter.route('/showPendingLeave').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.showPendingLeave);\nrouter.route('/ApprovedLeave/:leave_id').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.ApprovedLeave);\nrouter.route('/updateAdmin').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.updateAdmin);\nrouter.route('/profileImageAdmin').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _middlewares_multur_moddleware_js__WEBPACK_IMPORTED_MODULE_3__.upload.single('image'), _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.profileImageAdmin);\nrouter.route('/AllEmpAttendance/:startDate/:endDate').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.AllEmpAttendance);\nrouter.route('/CurrentLeaveStatus').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.CurrentLeaveStatus);\nrouter.route('/ChangeUserStatus/:User_ID').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.ChangeUserStatus);\nrouter.route('/DeleteUser/:User_ID')[\"delete\"](_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.DeleteUser);\nrouter.route('/EditUser/:User_ID').put(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.EditUser);\nrouter.route('/AddUser').post(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.AddUser);\nrouter.route('/CurrentActiveUsers').get(_middlewares_authmiddleware_js__WEBPACK_IMPORTED_MODULE_2__.authMiddleware, _Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.CurrentActiveUsers);\nrouter.route('/log').post(_Controllers_user_controllers_js__WEBPACK_IMPORTED_MODULE_1__.userLogin);\n\n\n//# sourceURL=webpack://attendense_management_api/./src/router/user.routes.js?");

/***/ }),

/***/ "./src/utils/ApiError.js":
/*!*******************************!*\
  !*** ./src/utils/ApiError.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   returnerror: () => (/* binding */ returnerror)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(fn) { try { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; } catch (e) { return typeof fn === \"function\"; } }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar ApiError = /*#__PURE__*/function (_Error) {\n  _inherits(ApiError, _Error);\n  function ApiError() {\n    var _this;\n    var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'something went wrong ';\n    var success = arguments.length > 1 ? arguments[1] : undefined;\n    var statusCode = arguments.length > 2 ? arguments[2] : undefined;\n    var Status = arguments.length > 3 ? arguments[3] : undefined;\n    _classCallCheck(this, ApiError);\n    _this = _callSuper(this, ApiError, [error]), _this.error = error, _this.Status = Status, _this.success = success, _this.statusCode = statusCode;\n    return _this;\n  }\n  return _createClass(ApiError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar returnerror = new Error();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/utils/ApiError.js?");

/***/ }),

/***/ "./src/utils/ApiResult.js":
/*!********************************!*\
  !*** ./src/utils/ApiResult.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiResponse: () => (/* binding */ ApiResponse),\n/* harmony export */   response: () => (/* binding */ response)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nvar ApiResponse = /*#__PURE__*/_createClass(function ApiResponse(statusCode) {\n  var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var data = arguments.length > 2 ? arguments[2] : undefined;\n  var isAuth = arguments.length > 3 ? arguments[3] : undefined;\n  _classCallCheck(this, ApiResponse);\n  this.data = data, this.statusCode = statusCode, this.message = message, this.isAuth = isAuth;\n});\nvar response = new ApiResponse();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/utils/ApiResult.js?");

/***/ }),

/***/ "./src/utils/checkduplicate.js":
/*!*************************************!*\
  !*** ./src/utils/checkduplicate.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDuplicate: () => (/* binding */ checkDuplicate)\n/* harmony export */ });\n/* harmony import */ var _db_connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/connection.js */ \"./src/db/connection.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n// import { BindData } from \"../db/connection.js\";\n\n// const checkDuplicate = async (tableName, idColumn, fields, values, Id = null) => {\n//     const conditions = fields.map(field => `${field}=@${field}`).join(' OR ');\n//     let query = `SELECT * FROM ${tableName} WHERE (${conditions})`;\n\n//     if (Id !== null) {\n//       query += ` AND ${idColumn} != @${idColumn}`;\n//     }\n\n//     const params = Object.fromEntries(fields.map((field, index) => [field, values[index]]));\n\n//     if (Id !== null) {\n//       params[idColumn] = Id\n//       // console.log(params[idColumn] )\n//     }\n\n//     try {\n//       // console.log(\"params\",params)\n//       console.log(\"query\",query)\n//       const existsCheck = await BindData(query, params);\n//       return existsCheck.recordset.length > 0;\n//     } catch (error) {\n//       console.error('Check Duplicate Error:', error);\n//       throw error;\n//     }\n//   };\n//   export{checkDuplicate}\n\nvar checkDuplicate = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(tableName, fields, values) {\n    var ID,\n      conditions,\n      query,\n      newValue,\n      existsCheck,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          ID = _args.length > 3 && _args[3] !== undefined ? _args[3] : null;\n          conditions = fields.map(function (field) {\n            return \"\".concat(field, \"=@\").concat(field);\n          }).join(' OR ');\n          query = \"SELECT * FROM \".concat(tableName, \" WHERE (\").concat(conditions, \")\");\n          if (ID !== null) {\n            if (fields.includes(ID)) {\n              query += \" AND \".concat(ID, \" != @\").concat(ID);\n            } else {\n              console.warn(\" ID '\".concat(ID, \"' not found in fields.\"));\n            }\n          }\n          newValue = Object.fromEntries(fields.map(function (field, index) {\n            return [field, values[index]];\n          }));\n          console.log(newValue);\n          console.log(query);\n          _context.prev = 7;\n          _context.next = 10;\n          return (0,_db_connection_js__WEBPACK_IMPORTED_MODULE_0__.BindData)(query, newValue);\n        case 10:\n          existsCheck = _context.sent;\n          return _context.abrupt(\"return\", existsCheck.recordset.length > 0);\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](7);\n          console.error('Check Duplicate Error:', _context.t0);\n          throw _context.t0;\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[7, 14]]);\n  }));\n  return function checkDuplicate(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n\n//# sourceURL=webpack://attendense_management_api/./src/utils/checkduplicate.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	module.exports = __webpack_exports__;
/******/ 	
/******/ })()
;